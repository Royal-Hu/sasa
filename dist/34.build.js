webpackJsonp([34],{234:function(t,i,e){"use strict";function s(t){e(755)}Object.defineProperty(i,"__esModule",{value:!0});var n=e(459),o=e(761),a=e(44),c=s,r=a(n.a,o.a,!1,c,"data-v-179cd611",null);i.default=r.exports},239:function(t,i,e){"use strict";i.a={packPerson:"./static/img/ic_pack_personal.png",packTeam:"./static/img/ic_pack_team.png",packDept:"./static/img/ic_pack_org.png",orgPubImg:"./static/img/ic_org_bg.png",orgImg:"./static/img/ic_org_logo.png",appIconDoctor:"./static/img/app_icon_doctor.png",appIconUser:"./static/img/app_icon.png",topBg:"./static/img/topbg.png",payWx:"./static/img/ic_pay_wechat.png",docMale:"./static/img/ic_doc_male.png",docFeMale:"./static/img/ic_doc_female.png",focusImg:"./static/img/ic_focused.png",unfocusImg:"./static/img/ic_unfocus.png",yuyueImg:"./static/img/ic_yuyue.png",reportImg:"./static/img/ic_report.png",askImg:"./static/img/ic_ask.png",serviceImg:"./static/img/ic_services.png",yuyueGrayImg:"./static/img/ic_yuyue_gray.png",askGrayImg:"./static/img/ic_ask_grey.png",serviceGrayImg:"./static/img/ic_services_grey.png",starImg:"./static/img/ic_rating_all.png",docRectMale:"./static/img/ic_rect_male.png",docRectFeMale:"./static/img/ic_rect_female.png",defaultAva:"./static/img/ic_default_ava.png",appointBg:"./static/img/ic_appoint_bg.png",rulePhoto:"./static/img/ic_rule.png",arrowDown:"./static/img/ic_arrow_down.png",arrowRight:"./static/img/arrow_right.png",arrowR:"./static/img/ic_arrow_right.png",home:"./static/img/home.png",news:"./static/img/news.png",service:"./static/img/service.png",mine:"./static/img/mine.png",doctor:"./static/img/doctor.png",mineBg:"./static/img/mine_bg.png",homeAppoint:"./static/img/home_appoint.png",homeDoctor:"./static/img/home_doctor.png",homeOnline:"./static/img/home_online.png",homeOrder:"./static/img/home_order.png",notice:"./static/img/notice.png",groupUser:"./static/img/ic_group_user.png",groupDoc:"./static/img/ic_group_doc.png",groupDocPatient:"./static/img/ic_group_doc_patient.png",shareImg:"./static/img/share.png",consultationHomeDefault:"./static/img/ic_consulation_home_default.png",consultationHomeSelected:"./static/img/ic_consulation_home_selected.png",consultationMineDefault:"./static/img/ic_consulation_mine_default.png",consultationMineSelected:"./static/img/ic_consulation_mine_selected.png",consultationSmallImg:"./static/img/ic_consultation_small_default.png",consultationBigImg:"./static/img/ic_consultation_big_default.png",consultationWant:"./static/img/ic_want.png",consultationWanted:"./static/img/ic_wanted.png",consultationPaySuccess:"./static/img/ic_sign_success.png",choose:"./static/img/choose.png",chosen:"./static/img/choosen.png",arrowWhiteRight:"./static/img/ic_arrow_right_white.png",consultationMineBg:"./static/img/ic_mine_bg.png",consultationEmpty:"./static/img/ic_empty.png",house_n:"./static/img/house_n.png",house_s:"./static/img/house_s.png",shopping_n:"./static/img/shopping_n.png",shopping_s:"./static/img/shopping_s.png",group_n:"./static/img/group_n.png",group_s:"./static/img/group_s.png",msg_n:"./static/img/msg_n.png",msg_s:"./static/img/msg_s.png",my_n:"./static/img/my_n.png",my_s:"./static/img/my_s.png",focusLookImg:"./static/img/look@2.png",unfocusLookImg:"./static/img/no_look@2.png",assistantHeadImg:"./static/img/assistant_head_img.png",msgTip:"./static/img/msg_tip.png",msgDot:"./static/img/msg_dot.png",systemMsg:"./static/img/system_msg.png",noticeMsg:"./static/img/notice_msg.png",familyDoc:"./static/img/family_doc.png"}},459:function(t,i,e){"use strict";function s(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var n=e(757),o=e(12),a=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};i.a={data:function(){return{pevalId:this.$route.query.pevalId,porderId:this.$route.query.porderId,totalIndex:0,current:{},recordList:[],listSubject:[],listRecorde:[],showCommit:!1,type:"0"}},components:{consultationAnswerItem:n.a},watch:{"current.answerId":function(t,i){console.log(t+"--"+i)}},computed:a({},Object(o.c)(["loginData"]),{title:function(){return this.current.title},listAnswer:function(){return this.current.listAnswer},currentIndex:function(){if(this.current.orderNum)return this.current.orderNum.value},currentAnswerId:function(){return this.current.answerId}}),methods:a({},Object(o.d)(["setRefreshOrder"]),{evalInfoQuery:function(){var t=this,i={pevalId:this.pevalId,porderId:this.porderId};this.$indicator.open(),this.$store.dispatch("evalInfoQuery",i).then(function(i){t.type=i.type.value,i.listSubject&&(t.listSubject=i.listSubject),i.jvPsycOrderInfoQueryRspDTO&&i.jvPsycOrderInfoQueryRspDTO.listRecorde&&(t.listRecorde=i.jvPsycOrderInfoQueryRspDTO.listRecorde),t.initData()}).then(function(i){t.$toast(i.message)}).finally(function(){t.$indicator.close()})},choseAnswer:function(t){var i=this,e={panswId:t.panswId.value,porderId:this.porderId,psubId:this.current.psubId.value,userId:this.loginData.userObj.userId.value};this.$indicator.open(),this.$store.dispatch("recordeSubmit",e).then(function(s){i.$set(i.current,"answerId",e.panswId),i.toNext(t)}).then(function(t){i.$toast(t.message)}).finally(function(){i.$indicator.close()})},showDialog:function(){var t=this;this.$messagebox(s({cancelButtonText:"重做",confirmButtonText:"继续答题",message:"是否从上次中断的位置继续答题",showCancelButton:!0},"showCancelButton",!0)).then(function(i){if("cancel"==i);else if("confirm"==i)for(var e=0;e<t.listRecorde.length;e++){var s=t.listRecorde[e],n=t.findAnswerByRecord(s);n&&t.toNext(n)}})},findAnswerByRecord:function(t){for(var i=0;i<this.listSubject.length;i++){var e=this.listSubject[i];if(e.psubId.value==t.psubId.value)for(var s=e.listAnswer,n=0;n<s.length;n++){var o=s[n];if(o.panswId.value==t.panswId.value)return o}}},initData:function(){this.listSubject.length>0&&(this.totalIndex=this.listSubject.length,this.current=this.listSubject[0],this.listRecorde.length>0&&(this.fillAnswer(),this.showDialog()))},fillAnswer:function(){for(var t=0;t<this.listSubject.length;t++)for(var i=this.listSubject[t],e=0;e<this.listRecorde.length;e++){var s=this.listRecorde[e];if(i.psubId.value==s.psubId.value){this.$set(i,"answerId",s.panswId.value);break}}},toNext:function(t){if("1"==this.type){var i=t.nextPsubOrderNum.value;if("0"==i)this.showCommit=!0;else{this.showCommit=!1;for(var e=0;e<this.listSubject.length;e++){var s=this.listSubject[e];if(s.orderNum.value==i){if(this.recordList.push(this.current),this.current=s,s.answerId&&this.listAnswer&&this.listAnswer.length>0)for(var n=0;n<this.listAnswer.length;n++){var o=this.listAnswer[n];if(o.panswId.value==s.answerId&&"0"==o.nextPsubOrderNum.value){this.showCommit=!0;break}}break}}}}else this.showCommit=this.currentIndex==this.totalIndex.toString(),this.showCommit||(this.recordList.push(this.current),this.current=this.listSubject[this.currentIndex],this.currentIndex==this.totalIndex.toString()&&this.currentAnswerId&&(this.showCommit=!0))},toBefore:function(){this.current=this.recordList.pop(),this.showCommit=!1},commit:function(){var t=this;this.$indicator.open(),this.$store.dispatch("evalSubmit",{porderId:this.porderId,pevalId:this.$route.query.pevalId}).then(function(i){var e=i.prepId.value;t.$router.replace({path:"consultationResult",query:a({},t.$route.query,{prepId:e})}),t.setRefreshOrder(!0)}).catch(function(i){t.$toast(i.message)}).finally(function(){t.$indicator.close()})}}),created:function(){this.evalInfoQuery()}}},460:function(t,i,e){"use strict";var s=e(239);i.a={props:["answer","answerId","index"],computed:{radioImg:function(){return this.answerId&&this.answerId==this.answer.panswId.value?s.a.chosen:s.a.choose}},methods:{choseAnswer:function(t){this.$emit("choseAnswer",t)}}}},755:function(t,i,e){var s=e(756);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(1)("6594cd90",s,!0,{})},756:function(t,i,e){i=t.exports=e(0)(!1),i.push([t.i,".cell[data-v-179cd611]{height:100%;background-color:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.3);border-radius:4px;margin-left:28px;margin-right:28px;padding:30px 20px 0;overflow-y:scroll;overflow-x:hidden}.answer[data-v-179cd611]{padding-top:20px;display:inline-block;width:100%}.cell0[data-v-179cd611]{position:absolute;top:5%;bottom:20%;left:0;right:0}.title[data-v-179cd611]{font-weight:700;font-size:18px}.btn[data-v-179cd611]{font-size:20px;font-weight:500;color:#fffaf0;background-color:#0093ff;height:44px;border-radius:22px;margin:30px 0;border-width:0;outline:none}.half[data-v-179cd611]{width:42%}.full[data-v-179cd611]{width:100%}.bottom[data-v-179cd611]{text-align:center;position:absolute;left:0;right:0;margin:0 auto;bottom:2%}.num[data-v-179cd611]{color:#019aff;font-size:30px;font-weight:800}.num1[data-v-179cd611]{font-size:18px}",""])},757:function(t,i,e){"use strict";function s(t){e(758)}var n=e(460),o=e(760),a=e(44),c=s,r=a(n.a,o.a,!1,c,"data-v-7c7b933d",null);i.a=r.exports},758:function(t,i,e){var s=e(759);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(1)("4f5f9c90",s,!0,{})},759:function(t,i,e){i=t.exports=e(0)(!1),i.push([t.i,".line[data-v-7c7b933d]{background-color:#ccc;height:1px;margin-top:20px}.img[data-v-7c7b933d]{width:18px;height:18px;float:right}.text[data-v-7c7b933d]{font-size:18px;color:#333;line-height:25px;padding-right:40px}",""])},760:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("img",{staticClass:"img",attrs:{src:t.radioImg},on:{click:function(i){t.choseAnswer(t.answer)}}}),t._v(" "),e("div",{staticClass:"text"},[t._v(t._s(String.fromCharCode(65+t.index))+" "+t._s(t.answer.title))]),t._v(" "),e("div",{staticClass:"line"})])},n=[],o={render:s,staticRenderFns:n};i.a=o},761:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"cell0"},[e("div",{staticClass:"cell"},[e("div",{staticClass:"title"},[t._v(t._s(t.currentIndex)+". "+t._s(t.title))]),t._v(" "),t._l(t.listAnswer,function(i,s){return e("consultation-answer-item",{key:s,staticClass:"answer",attrs:{answer:i,answerId:t.currentAnswerId,index:s},on:{choseAnswer:t.choseAnswer}})}),t._v(" "),e("div",{staticStyle:{"margin-top":"5%",width:"100%"}},[t.recordList.length>0?e("button",{staticClass:"btn fl",class:t.showCommit?"half":"full",attrs:{type:"button"},on:{click:t.toBefore}},[t._v("上一题")]):t._e(),t._v(" "),t.showCommit?e("button",{staticClass:"btn fr half",attrs:{type:"button"},on:{click:t.commit}},[t._v("提交")]):t._e()])],2)]),t._v(" "),e("div",{staticClass:"bottom"},[e("span",{staticClass:"num"},[t._v(t._s(t.currentIndex))]),t._v(" "),e("span",{staticClass:"num1"},[t._v("/"+t._s(t.totalIndex))])])])},n=[],o={render:s,staticRenderFns:n};i.a=o}});
//# sourceMappingURL=34.build.js.map