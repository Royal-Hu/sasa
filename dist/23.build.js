webpackJsonp([23],{170:function(t,e,i){"use strict";function a(t){i(343)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(278),r=i(349),o=i(44),n=a,c=o(s.a,r.a,!1,n,"data-v-625c5ade",null);e.default=c.exports},239:function(t,e,i){"use strict";e.a={packPerson:"./static/img/ic_pack_personal.png",packTeam:"./static/img/ic_pack_team.png",packDept:"./static/img/ic_pack_org.png",orgPubImg:"./static/img/ic_org_bg.png",orgImg:"./static/img/ic_org_logo.png",appIconDoctor:"./static/img/app_icon_doctor.png",appIconUser:"./static/img/app_icon.png",topBg:"./static/img/topbg.png",payWx:"./static/img/ic_pay_wechat.png",docMale:"./static/img/ic_doc_male.png",docFeMale:"./static/img/ic_doc_female.png",focusImg:"./static/img/ic_focused.png",unfocusImg:"./static/img/ic_unfocus.png",yuyueImg:"./static/img/ic_yuyue.png",reportImg:"./static/img/ic_report.png",askImg:"./static/img/ic_ask.png",serviceImg:"./static/img/ic_services.png",yuyueGrayImg:"./static/img/ic_yuyue_gray.png",askGrayImg:"./static/img/ic_ask_grey.png",serviceGrayImg:"./static/img/ic_services_grey.png",starImg:"./static/img/ic_rating_all.png",docRectMale:"./static/img/ic_rect_male.png",docRectFeMale:"./static/img/ic_rect_female.png",defaultAva:"./static/img/ic_default_ava.png",appointBg:"./static/img/ic_appoint_bg.png",rulePhoto:"./static/img/ic_rule.png",arrowDown:"./static/img/ic_arrow_down.png",arrowRight:"./static/img/arrow_right.png",arrowR:"./static/img/ic_arrow_right.png",home:"./static/img/home.png",news:"./static/img/news.png",service:"./static/img/service.png",mine:"./static/img/mine.png",doctor:"./static/img/doctor.png",mineBg:"./static/img/mine_bg.png",homeAppoint:"./static/img/home_appoint.png",homeDoctor:"./static/img/home_doctor.png",homeOnline:"./static/img/home_online.png",homeOrder:"./static/img/home_order.png",notice:"./static/img/notice.png",groupUser:"./static/img/ic_group_user.png",groupDoc:"./static/img/ic_group_doc.png",groupDocPatient:"./static/img/ic_group_doc_patient.png",shareImg:"./static/img/share.png",consultationHomeDefault:"./static/img/ic_consulation_home_default.png",consultationHomeSelected:"./static/img/ic_consulation_home_selected.png",consultationMineDefault:"./static/img/ic_consulation_mine_default.png",consultationMineSelected:"./static/img/ic_consulation_mine_selected.png",consultationSmallImg:"./static/img/ic_consultation_small_default.png",consultationBigImg:"./static/img/ic_consultation_big_default.png",consultationWant:"./static/img/ic_want.png",consultationWanted:"./static/img/ic_wanted.png",consultationPaySuccess:"./static/img/ic_sign_success.png",choose:"./static/img/choose.png",chosen:"./static/img/choosen.png",arrowWhiteRight:"./static/img/ic_arrow_right_white.png",consultationMineBg:"./static/img/ic_mine_bg.png",consultationEmpty:"./static/img/ic_empty.png",house_n:"./static/img/house_n.png",house_s:"./static/img/house_s.png",shopping_n:"./static/img/shopping_n.png",shopping_s:"./static/img/shopping_s.png",group_n:"./static/img/group_n.png",group_s:"./static/img/group_s.png",msg_n:"./static/img/msg_n.png",msg_s:"./static/img/msg_s.png",my_n:"./static/img/my_n.png",my_s:"./static/img/my_s.png",focusLookImg:"./static/img/look@2.png",unfocusLookImg:"./static/img/no_look@2.png",assistantHeadImg:"./static/img/assistant_head_img.png",msgTip:"./static/img/msg_tip.png",msgDot:"./static/img/msg_dot.png",systemMsg:"./static/img/system_msg.png",noticeMsg:"./static/img/notice_msg.png",familyDoc:"./static/img/family_doc.png"}},278:function(t,e,i){"use strict";var a=i(12),s=i(345),r=i(239),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t};e.a={data:function(){return{orderList:[],loading:!1,orgId:this.$route.query.orgId,page:1,loaded:!1}},components:{appointOrderItem:s.a},computed:o({},Object(a.c)(["loginData"]),{consultationEmpty:function(){return r.a.consultationEmpty}}),methods:{loadMore:function(){this.loaded||this.requestOrderList()},goDetail:function(t){this.$refs.oItem[t].goDetail()},cancelOrder:function(t){var e=this,i=this;this.$indicator.open(),this.$store.dispatch("docorderstepop",t).then(function(){e.$toast("取消成功"),i.updateOrderItem(t)}).catch(function(t){e.$toast(t.message)}).finally(function(){e.$indicator.close()})},updateOrderItem:function(t){for(var e=0;e<this.orderList.length;e++){var i=this.orderList[e];if(i.orderid.value==t.orderId){i.status.value="4";break}}},requestOrderList:function(){var t=this;this.loading=!0;var e=this.loginData.userObj.userId.value,i={userid:e,pageNum:this.page,pageSize:10,orgId:this.orgId},a=this;this.$store.dispatch("userOderList",i).then(function(t){if(a.page++,t.orderList)for(var e=0;e<t.orderList.length;e++)a.orderList.push(t.orderList[e]);a.loaded=a.orderList.length==t.total,a.loading=!1}).catch(function(e){a.loading=!1,a.loaded=!0,t.$toast(e.message)})}},created:function(){this.requestOrderList()}}},279:function(t,e,i){"use strict";var a=i(239),s=i(11);e.a={props:["orderItem"],filters:{maText:function(t){return"0"==t.value?"上午":"下午"}},computed:{docImg:function(){var t=a.a.docMale;if(this.orderItem.photoUrl)t=this.orderItem.photoUrl;else if(this.orderItem.gender){var e=this.orderItem.gender.value;"0"==e&&(t=a.a.docFeMale)}return t},statusName:function(){var t=this.orderItem.status.value;return"0"==t?"待确认":"1"==t?"已预约":"2"==t?"已完成":"3"==t?"已过期":"4"==t?"已取消":"5"==t?"未付款":""},deptName:function(){if(this.orderItem.department&&this.orderItem.department.value==s.d){if(this.orderItem.deptDesp)return this.orderItem.deptDesp;if(this.orderItem.departmentName)return this.orderItem.departmentName}else if(this.orderItem.departmentName)return this.orderItem.departmentName;return""}},methods:{createItem:function(){var t={subscribeMa:this.orderItem.subscribe_am,date:this.orderItem.subscribe_day,price:this.orderItem.price,workTime:this.orderItem.subscribe_work_time};return t.hospital=this.orderItem.hospital,t.userName=this.orderItem.docName,t.titlesName=this.orderItem.titlesName,t.department=this.orderItem.department,t.departmentName=this.orderItem.departmentName,t.deptDesp=this.orderItem.deptDesp,t.docid=this.orderItem.docid,t.orgId=this.orderItem.orgId,t.orderId=this.orderItem.orderid.value,t.subscribeName=this.orderItem.subscribeName,t.phone=this.orderItem.phone,t.status=this.orderItem.status.value,t.timeCreate=this.orderItem.timeCreate,t},goDetail:function(){sessionStorage.setItem("appointOrder",JSON.stringify(this.createItem())),this.$router.push("/appointOrderDetail")},documentDetail:function(){this.$router.push({path:"documentDetail",query:{orderId:this.orderItem.orderid.value}})},cancelOrder:function(){var t={orderId:this.orderItem.orderid.value,opType:1};this.$emit("cancelOrder",t)},goPay:function(){var t=this.createItem();sessionStorage.setItem("appointItem",JSON.stringify(t)),this.$router.push({path:"appointSubmit",query:{orderId:t.orderId}})}}}},343:function(t,e,i){var a=i(344);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(1)("1f60f0e8",a,!0,{})},344:function(t,e,i){e=t.exports=i(0)(!1),e.push([t.i,"li[data-v-625c5ade],ul[data-v-625c5ade]{padding:0;list-style:none;margin:0}.empty[data-v-625c5ade]{padding:50px 40px;text-align:center}",""])},345:function(t,e,i){"use strict";function a(t){i(346)}var s=i(279),r=i(348),o=i(44),n=a,c=o(s.a,r.a,!1,n,"data-v-4027e6fa",null);e.a=c.exports},346:function(t,e,i){var a=i(347);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(1)("41798988",a,!0,{})},347:function(t,e,i){e=t.exports=i(0)(!1),e.push([t.i,".namecs[data-v-4027e6fa]{font-size:18px;font-weight:700;color:#222}.titlecs[data-v-4027e6fa]{font-size:15px;font-weight:400;color:#222}.money[data-v-4027e6fa]{font-size:15px;font-weight:700;color:#222;margin-right:16px;float:right}.btn1[data-v-4027e6fa]{border-radius:4px;text-align:center;font-size:12px;font-weight:400;color:#0093ff;border:1px solid #0093ff;background-color:#fff;height:29px;float:right;margin-right:13px}.state[data-v-4027e6fa]{font-size:15px;font-weight:700;color:#ff4343;float:right}",""])},348:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{background:"white",margin:"0 15px"}},[i("div",{staticStyle:{padding:"12px 16px"}},[i("span",{staticClass:"titlecs"},[t._v(t._s(t.orderItem.orgNames))]),t._v(" "),i("span",{staticClass:"state"},[t._v(t._s(t.statusName))])]),t._v(" "),i("hr",{staticClass:"full-line",staticStyle:{margin:"0px 16px"},attrs:{size:"1 "}}),t._v(" "),i("div",{staticStyle:{padding:"12px 16px",height:"80px",position:"relative"}},[i("img",{staticStyle:{float:"left"},attrs:{width:"80px",height:"80px",src:t.docImg}}),t._v(" "),i("div",{staticStyle:{"margin-left":"96px",position:"absolute",top:"50%",transform:"translateY(-50%)"}},[i("div",[i("span",{staticClass:"namecs"},[t._v(t._s(t.orderItem.docName))]),t._v(" "),i("span",{staticClass:"titlecs",staticStyle:{"padding-left":"4px","font-weight":"bold"}},[t._v(t._s(t.deptName))]),t._v(" "),i("span",{staticClass:"titlecs",staticStyle:{"padding-left":"4px","font-weight":"bold"}},[t._v(t._s(t.orderItem.titlesName))])]),t._v(" "),i("div",{staticClass:"titlecs",staticStyle:{"margin-top":"10px"}},[t._v(t._s(t.orderItem.subscribe_day)+" "+t._s(t._f("maText")(t.orderItem.subscribe_am))+t._s(t.orderItem.subscribe_work_time))])])]),t._v(" "),i("div",{staticClass:"money"},[t._v("¥"+t._s(t.orderItem.price.value))]),t._v(" "),i("div",{staticStyle:{display:"inline-block","padding-top":"10px","padding-bottom":"10px",width:"100%"}},["2"==t.orderItem.status.value?i("button",{staticClass:"btn1",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.documentDetail(e)}}},[t._v("诊疗详情")]):t._e(),t._v(" "),"0"==t.orderItem.status.value?i("button",{staticClass:"btn1",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.cancelOrder(e)}}},[t._v("取消订单")]):t._e(),t._v(" "),"5"==t.orderItem.status.value?i("button",{staticClass:"btn1",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.goPay(e)}}},[t._v("去支付")]):t._e()]),t._v(" "),i("div",{staticStyle:{height:"10px",background:"#f7f7f7"}})])},s=[],r={render:a,staticRenderFns:s};e.a=r},349:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.orderList.length>0?i("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"50","infinite-scroll-immediate-check":"false"}},t._l(t.orderList,function(e,a){return i("appoint-order-item",{key:a,ref:"oItem",refInFor:!0,attrs:{orderItem:e},on:{cancelOrder:t.cancelOrder},nativeOn:{click:function(e){t.goDetail(a)}}})})):t._e(),t._v(" "),0==t.orderList.length?i("div",{staticClass:"empty"},[i("img",{attrs:{src:t.consultationEmpty,width:"144px",height:"136px"}}),t._v(" "),i("div",{staticStyle:{"font-size":"15px","margin-top":"10px",color:"#b3b3b3"}},[t._v("暂无此类订单")])]):t._e()])},s=[],r={render:a,staticRenderFns:s};e.a=r}});
//# sourceMappingURL=23.build.js.map