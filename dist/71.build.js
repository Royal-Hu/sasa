webpackJsonp([71],{213:function(e,t,n){"use strict";function i(e){n(659)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(431),o=n(661),s=n(44),c=i,r=s(a.a,o.a,!1,c,"data-v-4701229b",null);t.default=r.exports},431:function(e,t,n){"use strict";var i=n(12),a=n(11),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a={data:function(){return{phone:"",code:"",key:"",disable:!0,codeDisable:!1,intervalId:-1}},computed:o({},Object(i.c)(["isUserApp","loginData"])),methods:{getCode:function(){var e=this;if(this.phone)if(this.checkPhone(this.phone)){this.codeDisable=!0;var t={busiId:a.z,mobile:this.phone,busiType:a.E};this.$store.dispatch("phoneCode",t).then(function(t){e.key=t;var n=60,i=e;e.intervalId=setInterval(function(){n--,n<=0?(i.codeDisable=!1,i.$refs.code.$el.innerHTML="获取验证码",clearInterval(e.intervalId),e.intervalId=0):i.$refs.code.$el.innerHTML=n+"S"},1e3)}).catch(function(t){e.$toast(t.message),e.codeDisable=!1})}else this.$toast("请输入正确的手机号");else this.$toast("请输入手机号")},change:function(e,t){1==t?this.phone=e.target.value:2==t&&(this.code=e.target.value),this.disable=!this.phone||!this.code},checkPhone:function(e){return/^1[0-9]{10}$/.test(e)},login:function(){var e=this;if(this.checkPhone(this.phone)){if(null==this.key||0==this.key.length)return void this.$toast("请先获取验证码");this.$indicator.open();var t={loginType:"2",account:"1",pwd:this.code,sysType:"1000100102"};this.$store.dispatch("appLogin",t).then(function(t){"1"==t.rtnCode?e.$toast("登录成功"):e.$toast(t.rtnMsg)}).catch(function(t){e.$toast(t.message)}).finally(function(){e.$indicator.close()})}else this.$toast("请输入正确的手机号")},clearTick:function(){0!=this.intervalId&&clearInterval(this.intervalId)}}}},659:function(e,t,n){var i=n(660);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(1)("db3dff86",i,!0,{})},660:function(e,t,n){t=e.exports=n(0)(!1),t.push([e.i,"",""])},661:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("mt-field",{attrs:{placeholder:"请输入手机号",type:"number"},nativeOn:{input:function(t){e.change(t,1)}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),e._v(" "),n("mt-field",{attrs:{label:"",placeholder:"输入验证码",type:"number"},nativeOn:{input:function(t){e.change(t,2)}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[n("mt-button",{ref:"code",attrs:{plain:"",size:"small",type:"primary",disabled:e.codeDisable},nativeOn:{click:function(t){return e.getCode(t)}}},[e._v("获取验证码")])],1),e._v(" "),n("hr",{staticClass:"full-line"}),e._v(" "),n("div",{staticStyle:{margin:"30px 16px 16px 16px"}},[n("mt-button",{attrs:{size:"large",type:"primary",disabled:e.disable},nativeOn:{click:function(t){return e.login(t)}}},[e._v("登录")])],1),e._v(" "),e.isUserApp?e._e():n("div",{staticStyle:{"margin-top":"16px","margin-bottom":"16px","text-align":"center"}},[e._v("如需找回帐号密码，请联系机构管理员")])],1)},a=[],o={render:i,staticRenderFns:a};t.a=o}});
//# sourceMappingURL=71.build.js.map