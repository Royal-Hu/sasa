webpackJsonp([37],{201:function(t,i,e){"use strict";function s(t){e(595)}Object.defineProperty(i,"__esModule",{value:!0});var a=e(412),n=e(597),c=e(44),o=s,g=c(a.a,n.a,!1,o,"data-v-2c7f6617",null);i.default=g.exports},239:function(t,i,e){"use strict";i.a={packPerson:"./static/img/ic_pack_personal.png",packTeam:"./static/img/ic_pack_team.png",packDept:"./static/img/ic_pack_org.png",orgPubImg:"./static/img/ic_org_bg.png",orgImg:"./static/img/ic_org_logo.png",appIconDoctor:"./static/img/app_icon_doctor.png",appIconUser:"./static/img/app_icon.png",topBg:"./static/img/topbg.png",payWx:"./static/img/ic_pay_wechat.png",docMale:"./static/img/ic_doc_male.png",docFeMale:"./static/img/ic_doc_female.png",focusImg:"./static/img/ic_focused.png",unfocusImg:"./static/img/ic_unfocus.png",yuyueImg:"./static/img/ic_yuyue.png",reportImg:"./static/img/ic_report.png",askImg:"./static/img/ic_ask.png",serviceImg:"./static/img/ic_services.png",yuyueGrayImg:"./static/img/ic_yuyue_gray.png",askGrayImg:"./static/img/ic_ask_grey.png",serviceGrayImg:"./static/img/ic_services_grey.png",starImg:"./static/img/ic_rating_all.png",docRectMale:"./static/img/ic_rect_male.png",docRectFeMale:"./static/img/ic_rect_female.png",defaultAva:"./static/img/ic_default_ava.png",appointBg:"./static/img/ic_appoint_bg.png",rulePhoto:"./static/img/ic_rule.png",arrowDown:"./static/img/ic_arrow_down.png",arrowRight:"./static/img/arrow_right.png",arrowR:"./static/img/ic_arrow_right.png",home:"./static/img/home.png",news:"./static/img/news.png",service:"./static/img/service.png",mine:"./static/img/mine.png",doctor:"./static/img/doctor.png",mineBg:"./static/img/mine_bg.png",homeAppoint:"./static/img/home_appoint.png",homeDoctor:"./static/img/home_doctor.png",homeOnline:"./static/img/home_online.png",homeOrder:"./static/img/home_order.png",notice:"./static/img/notice.png",groupUser:"./static/img/ic_group_user.png",groupDoc:"./static/img/ic_group_doc.png",groupDocPatient:"./static/img/ic_group_doc_patient.png",shareImg:"./static/img/share.png",consultationHomeDefault:"./static/img/ic_consulation_home_default.png",consultationHomeSelected:"./static/img/ic_consulation_home_selected.png",consultationMineDefault:"./static/img/ic_consulation_mine_default.png",consultationMineSelected:"./static/img/ic_consulation_mine_selected.png",consultationSmallImg:"./static/img/ic_consultation_small_default.png",consultationBigImg:"./static/img/ic_consultation_big_default.png",consultationWant:"./static/img/ic_want.png",consultationWanted:"./static/img/ic_wanted.png",consultationPaySuccess:"./static/img/ic_sign_success.png",choose:"./static/img/choose.png",chosen:"./static/img/choosen.png",arrowWhiteRight:"./static/img/ic_arrow_right_white.png",consultationMineBg:"./static/img/ic_mine_bg.png",consultationEmpty:"./static/img/ic_empty.png",house_n:"./static/img/house_n.png",house_s:"./static/img/house_s.png",shopping_n:"./static/img/shopping_n.png",shopping_s:"./static/img/shopping_s.png",group_n:"./static/img/group_n.png",group_s:"./static/img/group_s.png",msg_n:"./static/img/msg_n.png",msg_s:"./static/img/msg_s.png",my_n:"./static/img/my_n.png",my_s:"./static/img/my_s.png",focusLookImg:"./static/img/look@2.png",unfocusLookImg:"./static/img/no_look@2.png",assistantHeadImg:"./static/img/assistant_head_img.png",msgTip:"./static/img/msg_tip.png",msgDot:"./static/img/msg_dot.png",systemMsg:"./static/img/system_msg.png",noticeMsg:"./static/img/notice_msg.png",familyDoc:"./static/img/family_doc.png"}},240:function(t,i,e){"use strict";i.a={props:{showBack:{default:!0},title:{default:"在线问诊"},showMenu:{default:!1}},methods:{back:function(){this.$router.go(-1)},menu:function(){this.$emit("confirm")}}}},241:function(t,i,e){"use strict";function s(t){e(242)}var a=e(240),n=e(244),c=e(44),o=s,g=c(a.a,n.a,!1,o,null,null);i.a=g.exports},242:function(t,i,e){var s=e(243);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(1)("67921c4f",s,!0,{})},243:function(t,i,e){i=t.exports=e(0)(!1),i.push([t.i,".header_box,.mint-header{background:#fff}.mint-header .mint-button .mintui-back{color:rgba(4,11,28,.8)}.mint-header-title{font-size:15px;color:#006dff}",""])},244:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"header_box"},[e("mt-header",{attrs:{fixed:"",title:t.title}},[t.showBack?e("mt-button",{attrs:{slot:"left",icon:"back"},nativeOn:{click:function(i){return t.back(i)}},slot:"left"}):t._e(),t._v(" "),t.showMenu?e("mt-button",{attrs:{slot:"right"},nativeOn:{click:function(i){return t.menu(i)}},slot:"right"},[t._v("确定")]):t._e()],1)],1)},a=[],n={render:s,staticRenderFns:a};i.a=n},412:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_vuex__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_1__Header_vue__=__webpack_require__(241),__WEBPACK_IMPORTED_MODULE_2__static_js_imgmap_js__=__webpack_require__(239),_extends=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};__webpack_exports__.a={data:function(){return{price:this.$route.query.price,snapId:this.$route.query.snapId,orgId:this.$route.query.orgId,drId:this.$route.query.drId,servId:this.$route.query.servId,busiType:2000104,payWx:__WEBPACK_IMPORTED_MODULE_2__static_js_imgmap_js__.a.payWx}},components:{appHeader:__WEBPACK_IMPORTED_MODULE_1__Header_vue__.a},computed:_extends({},Object(__WEBPACK_IMPORTED_MODULE_0_vuex__.c)(["loginData"]),{servName:function(){var t=this.loginData.userObj,i=t.userName;return i||(i=t.nickName),i}}),methods:{submitOrder:function(){var t=this,i=this;if(this.servId)this.$indicator.open(),i.wxPay();else{var e={userId:this.loginData.userObj.userId.value,snapId:this.snapId,goodsType:this.busiType,servName:this.servName,despIllness:"无",showDiary:1,showDynamic:1,orgId:this.orgId};this.$indicator.open(),this.$store.dispatch("orderSubmit",e).then(function(t){i.servId=t.servId.value,i.wxPay()}).catch(function(i){t.$toast(i.message),t.$indicator.close()})}},wxPay:function wxPay(){var _this2=this,vm=this,request={busiId:this.servId,busiType:this.busiType,desp:"在线咨询",drId:this.drId,money:this.price,moneyRmb:this.price,orgId:this.orgId.value,tradeMode:8101104,userId:this.loginData.userObj.userId.value};this.$store.dispatch("userConsume",request).then(function(data){if("1"==data.rtnCode){var json=data.data;json?(json=eval("("+json+")"),vm.invokeWx(json)):(_this2.$indicator.close(),_this2.$toast("余额支付成功"),vm.$router.go(-1))}else _this2.$indicator.close(),_this2.$toast("网络异常，支付失败"),vm.$router.go(-1)}).catch(function(t){_this2.$toast(t.message)}).finally(function(){_this2.$indicator.close()})},onBridgeReady:function(t){var i=this;WeixinJSBridge.invoke("getBrandWCPayRequest",t,function(t){"get_brand_wcpay_request:ok"==t.err_msg?(i.$toast("支付成功"),i.$router.go(-1)):this.$toast("支付失败")})},invokeWx:function(t){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",this.onBridgeReady(t),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",this.onBridgeReady(t)),document.attachEvent("onWeixinJSBridgeReady",this.onBridgeReady(t))):this.onBridgeReady(t)}}}},595:function(t,i,e){var s=e(596);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(1)("37030827",s,!0,{})},596:function(t,i,e){i=t.exports=e(0)(!1),i.push([t.i,".cell[data-v-2c7f6617]{background:#fff;line-height:46px}.full-line[data-v-2c7f6617]{background:rgba(4,11,28,.05)}.titlecs[data-v-2c7f6617]{font-size:14px;color:#b3b3b3;padding-left:16px;vertical-align:middle}.imgw[data-v-2c7f6617]{width:27px;height:27px;margin-left:16px;vertical-align:middle}.btn[data-v-2c7f6617]{border-radius:4px;text-align:center;font-size:14px;font-weight:600;color:#fff;background-color:#0093ff;height:40px;margin:20px 5%;width:90%;border:0 solid transparent}",""])},597:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"cell"},[e("span",{staticClass:"titlecs"},[t._v("问诊人")]),t._v(" "),e("span",{staticStyle:{color:"rgba(179,179,179,1)",float:"right","padding-right":"12px","vertical-align":"middle","font-size":"14px"}},[t._v(t._s(t.servName))]),t._v(" "),e("hr",{staticClass:"full-line",attrs:{align:"center",size:"1"}})]),t._v(" "),e("div",{staticClass:"cell"},[e("span",{staticClass:"titlecs"},[t._v("总计")]),t._v(" "),e("span",{staticStyle:{color:"rgba(0,147,255,1)",float:"right","padding-right":"16px","vertical-align":"middle","font-size":"14px"}},[t._v("￥"+t._s(t.price))]),t._v(" "),e("hr",{staticClass:"full-line",attrs:{align:"center",size:"1"}})]),t._v(" "),e("div",{staticClass:"cell"},[e("img",{staticClass:"imgw",attrs:{src:t.payWx}}),t._v(" "),e("span",{staticStyle:{"font-size":"15px","margin-left":"6px","vertical-align":"middle"}},[t._v("微信支付")]),t._v(" "),e("hr",{staticClass:"full-line",attrs:{align:"center",size:"1"}})]),t._v(" "),e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.submitOrder}},[t._v("确认支付")])])},a=[],n={render:s,staticRenderFns:a};i.a=n}});
//# sourceMappingURL=37.build.js.map