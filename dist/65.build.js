webpackJsonp([65],{210:function(e,t,a){"use strict";function r(e){a(624)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(421),i=a(626),n=a(44),o=r,c=n(s.a,i.a,!1,o,"data-v-42a343cf",null);t.default=c.exports},421:function(e,t,a){"use strict";var r=a(12),s=a(11),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.a={data:function(){return{docId:this.$route.query.docId,request:{userName:"",birth:"",mobile:"",first:1,gender:"",bdid:"0",disease:"",desc:""},sexs:[],showSex:!1}},computed:i({},Object(r.c)(["loginData"]),{checkStatus:function(){return this.request.first},startDate:function(){return new Date(Date.parse("1900-01-01"))}}),methods:{report:function(){var e=this,t=this;this.request.gender?"男"==this.request.gender?this.request.gender="1":"女"==this.request.gender&&(this.request.gender="0"):this.request.gender="-1",this.$indicator.open(),this.request.userid=this.loginData.userObj.userId.value,this.request.docid=this.docId,this.$store.dispatch("imNewPatientAdd",this.request).then(function(){e.$toast("报到成功"),e.$router.replace({path:"doctorDetail",query:{userId:t.docId}})}).catch(function(t){e.$toast(t.message)}).finally(function(){e.$indicator.close()})},openDatePicker:function(){this.$refs.datePicker.open()},handleChange:function(e){this.request.birth=e.format("yyyy-MM-dd")},userName:function(){var e=this.loginData.userObj;if(e){if(e.userName)return e.userName;if(e.nickName)return e.nickName}return""},userSex:function(){var e=this.loginData.userObj;if(e){if("1"==e.gender.value)return"男";if("0"==e.gender.value)return"女"}return"未知"},userBirth:function(){var e=this.loginData.userObj;return e&&e.birth?e.birth:""},bindAccount:function(){var e=this.loginData.userObj;if(e&&e.userAccountList)for(var t=0;t<e.userAccountList.length;t++){var a=e.userAccountList[t];if(a.accountType.value==s.a)return a.account}},choseMale:function(){this.request.gender="男"},choseFemale:function(){this.request.gender="女"}},mounted:function(){this.sexs=[{name:"男",method:this.choseMale},{name:"女",method:this.choseFemale}]},created:function(){var e=this;this.request.userName=this.userName(),this.request.birth=this.userBirth(),this.request.mobile=this.bindAccount();var t={docid:this.docId,userid:this.loginData.userObj.userId.value};this.$store.dispatch("imnewpatientquery",t).then(function(t){var a=t.data;a&&(e.request.bdid=a.bdid.value,e.request.disease=a.disease,e.request.desc=a.desc,e.request.first=Number.parseInt(a.first.value))}).catch(function(t){e.$toast(t.message)}),this.$store.dispatch("userInfoGet",{userId:this.loginData.userObj.userId.value}).then(function(t){"1"==t.gender.value?e.request.gender="男":"0"==t.gender.value&&(e.request.gender="女"),e.request.birth=t.birth})}}},624:function(e,t,a){var r=a(625);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(1)("06127910",r,!0,{})},625:function(e,t,a){t=e.exports=a(0)(!1),t.push([e.i,".full-line2[data-v-42a343cf]{background-color:#eee;height:1px;border:0}.bgv1[data-v-42a343cf]{background-color:#fff;padding:0 16px}.line00[data-v-42a343cf]{margin-top:0;margin-left:0;color:#ccc}.linecell[data-v-42a343cf]{display:inline-block;line-height:55px;width:100%;padding-top:8px;padding-bottom:2px;margin-top:10px}.title[data-v-42a343cf]{font-weight:400;font-size:16px;line-height:25px;padding-bottom:2px;float:left;color:#666}.checked[data-v-42a343cf]{background-color:#0093ff;color:#fff;border:1px solid transparent}.unchecked[data-v-42a343cf]{background-color:#fff;color:#0093ff;border:1px solid #0093ff}.diccc[data-v-42a343cf],.diddd[data-v-42a343cf]{float:right;font-size:14px;width:50px;line-height:23px;text-align:center;vertical-align:middle;font-weight:300;border-radius:4px}.diddd[data-v-42a343cf]{margin-right:10px}.inputcs[data-v-42a343cf]{text-align:right;float:right;font-size:16px;color:#000;border-width:0;margin-top:2px;outline:none}.textA[data-v-42a343cf]{border-width:0;outline:none;font-size:14px;margin-top:3px;width:100%;border:none;resize:none}.img[data-v-42a343cf]{height:100px;width:100px;margin-right:5px}.ttt[data-v-42a343cf]{font-size:14px;color:#ccc;height:20px;line-height:15px}.btn[data-v-42a343cf]{font-size:17px;color:#fff;background-color:#0093ff;height:44px;border-radius:4px;width:92%;border-width:0;outline:none;font-weight:500;margin-left:4%;margin-top:25px;border:none}",""])},626:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"bgv1"},[a("div",{staticClass:"linecell"},[a("span",{staticClass:"title"},[e._v("姓名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.userName,expression:"request.userName"}],staticClass:"inputcs",attrs:{placeholder:"请输入姓名"},domProps:{value:e.request.userName},on:{input:function(t){t.target.composing||e.$set(e.request,"userName",t.target.value)}}})]),e._v(" "),a("hr",{staticClass:"full-line2",attrs:{align:"center",size:"0.5"}}),e._v(" "),a("div",{staticClass:"linecell"},[a("span",{staticClass:"title"},[e._v("性别")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.gender,expression:"request.gender"}],staticClass:"inputcs",staticStyle:{"background-color":"transparent"},attrs:{placeholder:"请选择性别",readonly:""},domProps:{value:e.request.gender},on:{click:function(t){t.stopPropagation(),e.showSex=!0},input:function(t){t.target.composing||e.$set(e.request,"gender",t.target.value)}}})]),e._v(" "),a("hr",{staticClass:"full-line2",attrs:{align:"center",size:"0.5"}}),e._v(" "),a("div",{staticClass:"linecell"},[a("span",{staticClass:"title"},[e._v("出生年月")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.birth,expression:"request.birth"}],staticClass:"inputcs",staticStyle:{"background-color":"transparent"},attrs:{placeholder:"请选择日期",readonly:""},domProps:{value:e.request.birth},on:{click:function(t){return t.stopPropagation(),e.openDatePicker(t)},input:function(t){t.target.composing||e.$set(e.request,"birth",t.target.value)}}})]),e._v(" "),a("hr",{staticClass:"full-line2",attrs:{align:"center",size:"0.5"}}),e._v(" "),a("div",{staticClass:"linecell"},[a("span",{staticClass:"title"},[e._v("手机号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.mobile,expression:"request.mobile"}],staticClass:"inputcs",attrs:{placeholder:"输入11位手机号"},domProps:{value:e.request.mobile},on:{input:function(t){t.target.composing||e.$set(e.request,"mobile",t.target.value)}}})])]),e._v(" "),a("div",{staticStyle:{height:"10px",width:"100%","background-color":"#F7F7F7"}}),e._v(" "),a("div",{staticClass:"bgv1"},[e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("div",{staticClass:"linecell"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.request.desc,expression:"request.desc"}],staticClass:"textA",attrs:{placeholder:"对医生说点什么，可以介绍下自己或简单描述身体状态",clos:"10",rows:"3",warp:"virtual"},domProps:{value:e.request.desc},on:{input:function(t){t.target.composing||e.$set(e.request,"desc",t.target.value)}}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e()])]),e._v(" "),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.report}},[e._v("提交")]),e._v(" "),a("mt-datetime-picker",{ref:"datePicker",attrs:{type:"date",startDate:"","year-format":"{value}年","month-format":"{value}月","date-format":"{value}日",startDate:e.startDate},on:{confirm:e.handleChange}}),e._v(" "),a("mt-actionsheet",{attrs:{actions:e.sexs,"cancel-text":""},model:{value:e.showSex,callback:function(t){e.showSex=t},expression:"showSex"}})],1)},s=[],i={render:r,staticRenderFns:s};t.a=i}});
//# sourceMappingURL=65.build.js.map