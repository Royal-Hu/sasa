webpackJsonp([55],{219:function(t,a,i){"use strict";function s(t){i(686)}Object.defineProperty(a,"__esModule",{value:!0});var e=i(438),o=i(688),c=i(44),n=s,r=c(e.a,o.a,!1,n,"data-v-dda848da",null);a.default=r.exports},239:function(t,a,i){"use strict";a.a={packPerson:"./static/img/ic_pack_personal.png",packTeam:"./static/img/ic_pack_team.png",packDept:"./static/img/ic_pack_org.png",orgPubImg:"./static/img/ic_org_bg.png",orgImg:"./static/img/ic_org_logo.png",appIconDoctor:"./static/img/app_icon_doctor.png",appIconUser:"./static/img/app_icon.png",topBg:"./static/img/topbg.png",payWx:"./static/img/ic_pay_wechat.png",docMale:"./static/img/ic_doc_male.png",docFeMale:"./static/img/ic_doc_female.png",focusImg:"./static/img/ic_focused.png",unfocusImg:"./static/img/ic_unfocus.png",yuyueImg:"./static/img/ic_yuyue.png",reportImg:"./static/img/ic_report.png",askImg:"./static/img/ic_ask.png",serviceImg:"./static/img/ic_services.png",yuyueGrayImg:"./static/img/ic_yuyue_gray.png",askGrayImg:"./static/img/ic_ask_grey.png",serviceGrayImg:"./static/img/ic_services_grey.png",starImg:"./static/img/ic_rating_all.png",docRectMale:"./static/img/ic_rect_male.png",docRectFeMale:"./static/img/ic_rect_female.png",defaultAva:"./static/img/ic_default_ava.png",appointBg:"./static/img/ic_appoint_bg.png",rulePhoto:"./static/img/ic_rule.png",arrowDown:"./static/img/ic_arrow_down.png",arrowRight:"./static/img/arrow_right.png",arrowR:"./static/img/ic_arrow_right.png",home:"./static/img/home.png",news:"./static/img/news.png",service:"./static/img/service.png",mine:"./static/img/mine.png",doctor:"./static/img/doctor.png",mineBg:"./static/img/mine_bg.png",homeAppoint:"./static/img/home_appoint.png",homeDoctor:"./static/img/home_doctor.png",homeOnline:"./static/img/home_online.png",homeOrder:"./static/img/home_order.png",notice:"./static/img/notice.png",groupUser:"./static/img/ic_group_user.png",groupDoc:"./static/img/ic_group_doc.png",groupDocPatient:"./static/img/ic_group_doc_patient.png",shareImg:"./static/img/share.png",consultationHomeDefault:"./static/img/ic_consulation_home_default.png",consultationHomeSelected:"./static/img/ic_consulation_home_selected.png",consultationMineDefault:"./static/img/ic_consulation_mine_default.png",consultationMineSelected:"./static/img/ic_consulation_mine_selected.png",consultationSmallImg:"./static/img/ic_consultation_small_default.png",consultationBigImg:"./static/img/ic_consultation_big_default.png",consultationWant:"./static/img/ic_want.png",consultationWanted:"./static/img/ic_wanted.png",consultationPaySuccess:"./static/img/ic_sign_success.png",choose:"./static/img/choose.png",chosen:"./static/img/choosen.png",arrowWhiteRight:"./static/img/ic_arrow_right_white.png",consultationMineBg:"./static/img/ic_mine_bg.png",consultationEmpty:"./static/img/ic_empty.png",house_n:"./static/img/house_n.png",house_s:"./static/img/house_s.png",shopping_n:"./static/img/shopping_n.png",shopping_s:"./static/img/shopping_s.png",group_n:"./static/img/group_n.png",group_s:"./static/img/group_s.png",msg_n:"./static/img/msg_n.png",msg_s:"./static/img/msg_s.png",my_n:"./static/img/my_n.png",my_s:"./static/img/my_s.png",focusLookImg:"./static/img/look@2.png",unfocusLookImg:"./static/img/no_look@2.png",assistantHeadImg:"./static/img/assistant_head_img.png",msgTip:"./static/img/msg_tip.png",msgDot:"./static/img/msg_dot.png",systemMsg:"./static/img/system_msg.png",noticeMsg:"./static/img/notice_msg.png",familyDoc:"./static/img/family_doc.png"}},438:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__static_js_imgmap_js__=__webpack_require__(239),__WEBPACK_IMPORTED_MODULE_1__constant_ConstantConfig_js__=__webpack_require__(11),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};__webpack_exports__.a={data:function(){return{idList:this.$route.query.idList,msgList:this.$route.query.msgList,packDetailsId:this.$route.query.packDetailsId,serviceCompanyId:this.$route.query.serviceCompanyId,orgId:this.$route.query.orgId?this.$route.query.orgId:localStorage.getItem("orgId"),radio:"0",addList:[],cardNo:"",phone:"",userName:"",sellPrice:0,addPriceTotal:0,prevRouter:null,orderId:"",packageName:""}},components:{},computed:{totalPrice:function(){return"0"==this.addPriceTotal?this.sellPrice:this.add_minus(this.sellPrice,+this.addPriceTotal).toFixed(2)}},mounted:function(){},methods:{add_minus:function(t,a){var i=void 0,s=void 0,e=void 0;try{i=t.toString().split(".")[1].length}catch(t){i=0}try{s=a.toString().split(".")[1].length}catch(t){s=0}return e=Math.pow(10,Math.max(i,s)),(t*e+a*e)/e},sum:function sum(arr){return eval(arr.join("+"))},radioVal:function(){console.log(this.radio)},checkPhone:function(t){return/^1[0-9]{10}$/.test(t)},checkCardNo:function(t){return/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(t)},goPay:function(){return this.userName?this.checkPhone(this.phone)?this.checkCardNo(this.cardNo)?void this.getShopOrderCreate():(this.$toast("请输入正确的身份证号"),!1):(this.$toast("请输入正确的手机号"),!1):(this.$toast("请输入体检人姓名"),!1)},medicalMan:function(){this.$router.push({path:"medicalManList",query:{idList:this.idList}})},getShopOrderCreate:function(){var t=this,a=[];if(null!=this.idList&&void 0!=this.idList&&""!=this.idList)for(var i=0;i<this.idList.length;i++)a.push({prodId:this.idList[i],prodType:"2"});var s=this.packDetailsId?this.packDetailsId:localStorage.getItem("packDetailsId"),e={prodId:s,prodType:"1"};a.unshift(e);var o={compId:this.serviceCompanyId?this.serviceCompanyId:localStorage.getItem("serviceCompanyId"),orderType:"2000107",prodList:a||null,userId:this.$store.getters.loginData.userObj.userId.value,orgId:this.orgId,fromUserId:localStorage.getItem("fromUserId")?localStorage.getItem("fromUserId"):null};this.$store.dispatch("shopOrderCreate",o).then(function(a){if(a){if(console.log(t.msgList,"===this.msgList"),t.orderId=a.data.orderId.value,!t.msgList)return t.getUserMsgSave(),!1;t.orderId&&t.$router.push({path:"shopPayList",query:{packageName:t.packageName,userName:t.userName,gender:t.radio,mobile:t.phone,cardNo:t.cardNo,orderId:t.orderId,totalPrice:t.totalPrice}})}}).catch(function(a){t.$toast(a.message)})},getQueryAddProductList:function(){var t=this;"string"==_typeof(this.idList)&&(this.idList=[this.idList]);var a={idList:this.idList?this.idList:null};this.$store.dispatch("queryAddProductList",a).then(function(a){if(a){var i=[];t.addList=a.data.productList;for(var s=0;s<a.data.productList.length;s++)i.push(parseFloat(a.data.productList[s].sellPrice.value)),t.addPriceTotal=t.sum(i)}}).catch(function(a){t.$toast(a.message)})},getUserMsgSave:function(){var t=this,a={reservationUser:{userId:this.$store.getters.loginData.userObj.userId.value,userName:this.userName,gender:this.radio,mobile:this.phone,cardNo:this.cardNo}};this.$store.dispatch("userMsgSave",a).then(function(a){"1"==a.rtnCode?t.$router.push({path:"shopPayList",query:{packageName:t.packageName,userName:t.userName,gender:t.radio,mobile:t.phone,cardNo:t.cardNo,orderId:t.orderId,totalPrice:t.totalPrice}}):t.$toast(a.msg)}).catch(function(a){t.$toast(a.message)})},getPackagesDetail:function(){var t=this,a={packages:{packDetailsId:this.packDetailsId?this.packDetailsId:localStorage.getItem("packDetailsId")},sortType:"price"};this.$store.dispatch("packagesDetail",a).then(function(a){a.data&&(t.sellPrice=a.data.packages.sellPrice.value,t.packageName=a.data.packages.name)}).catch(function(a){t.$toast(a.message)})}},created:function(){if(this.getPackagesDetail(),""!=this.idList&&this.getQueryAddProductList(),this.packDetailsId&&localStorage.setItem("packDetailsId",this.packDetailsId),this.serviceCompanyId&&localStorage.setItem("serviceCompanyId",this.serviceCompanyId),this.msgList){var t=JSON.parse(this.msgList);this.userName=t.userName,this.radio=t.gender,this.phone=t.mobile,this.cardNo=t.cardNo}}}},686:function(t,a,i){var s=i(687);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i(1)("3172c70e",s,!0,{})},687:function(t,a,i){a=t.exports=i(0)(!1),a.push([t.i,".box2[data-v-dda848da]{padding:16px;background:#fff}.state[data-v-dda848da]{font-size:16px;color:#b3b3b3}.coupons[data-v-dda848da]{font-size:16px;color:#333}.item_name[data-v-dda848da]{font-size:14px;color:#333}.price[data-v-dda848da]{color:#f0240e;font-size:14px}.add[data-v-dda848da]{color:#b3b3b3;font-size:14px}.box[data-v-dda848da]{margin-bottom:15px;background:#fff}.list_box[data-v-dda848da]{width:100%;border-bottom:1px solid hsla(0,0%,93%,.6)}.medical_man[data-v-dda848da]{width:30%;text-align:center;padding:0 5%}.medical_man img[data-v-dda848da]{width:34px;height:34px;margin-bottom:5px}.medical_man p[data-v-dda848da]{color:#000;font-size:12px}.list[data-v-dda848da]{padding:16px;border-bottom:1px solid hsla(0,0%,93%,.6)}.list2[data-v-dda848da]{padding-right:0;border-right:1px solid hsla(0,0%,93%,.6)}.list .span[data-v-dda848da]{font-size:16px;color:#333;width:20%;display:inline-block}.list2 .span[data-v-dda848da]{width:26%}.list input[data-v-dda848da]{font-size:16px;color:#333;max-width:50%}.btn_bottom[data-v-dda848da]{position:fixed;bottom:0;height:50px;width:100%;background:#fff;padding-left:12px;box-sizing:border-box}.total[data-v-dda848da]{font-size:14px;color:#222}.total span[data-v-dda848da]{font-size:18px;font-weight:500}.choose[data-v-dda848da]{font-size:11px;color:#222}.red_color[data-v-dda848da]{color:#f0240e}.next_btn[data-v-dda848da]{display:block;width:118px;height:50px;background:#0093ff;line-height:50px;text-align:center;color:#fff;font-size:16px;font-weight:500}",""])},688:function(t,a,i){"use strict";var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"box"},[i("div",{staticClass:"list_box flex-b"},[i("div",{staticStyle:{width:"88%"}},[i("div",{staticClass:"list list2"},[i("span",{staticClass:"span"},[t._v("体检人")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{type:"text",placeholder:"请输入体检人姓名","placeholder-style":"color:#CCCCCC"},domProps:{value:t.userName},on:{input:function(a){a.target.composing||(t.userName=a.target.value)}}})]),t._v(" "),i("div",{staticClass:"list list2",staticStyle:{"border-bottom":"none"}},[i("span",{staticClass:"span"},[t._v("性别")]),t._v(" "),i("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(a){t.radio=a},expression:"radio"}},[t._v("男")]),t._v(" "),i("el-radio",{attrs:{label:"0"},model:{value:t.radio,callback:function(a){t.radio=a},expression:"radio"}},[t._v("女")])],1)]),t._v(" "),i("div",{staticClass:"medical_man",on:{click:t.medicalMan}},[i("img",{attrs:{src:"/static/img/add_contact.png",alt:""}}),t._v(" "),i("p",[t._v("选择体检人")])])]),t._v(" "),i("div",{staticClass:"list"},[i("span",{staticClass:"span"},[t._v("手机号")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",placeholder:"请输入手机号","placeholder-style":"color:#CCCCCC"},domProps:{value:t.phone},on:{input:function(a){a.target.composing||(t.phone=a.target.value)}}})]),t._v(" "),i("div",{staticClass:"list"},[i("span",{staticClass:"span"},[t._v("身份证")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cardNo,expression:"cardNo"}],attrs:{type:"number",placeholder:"请输入身份证号","placeholder-style":"color:#CCCCCC"},domProps:{value:t.cardNo},on:{input:function(a){a.target.composing||(t.cardNo=a.target.value)}}})])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"box2"},[i("div",{staticClass:"flex-b"},[i("div",{staticClass:"item_name"},[t._v(t._s(t.packageName))]),t._v(" "),i("div",{staticClass:"price"},[t._v("¥"+t._s(t.sellPrice))])]),t._v(" "),t._l(t.addList,function(a,s){return i("div",{key:s,staticClass:"flex-b",staticStyle:{"margin-top":"10px"}},[i("div",[i("p",{staticClass:"add"},[t._v("加项：")]),t._v(" "),i("p",{staticClass:"item_name"},[t._v(t._s(a.name))])]),t._v(" "),i("div",{staticClass:"price"},[t._v("¥"+t._s(a.sellPrice.value))])])})],2),t._v(" "),i("div",{staticClass:"btn_bottom"},[i("div",{staticClass:" flex-b"},[i("div",[i("p",{staticClass:"total"},[t._v("合计："),i("span",{staticClass:"red_color"},[t._v("¥"+t._s(t.totalPrice))])]),t._v(" "),t.idList?i("p",{staticClass:"choose"},[t._v("已选择加项"),i("span",{staticClass:"red_color"},[t._v(t._s(t.idList.length))]),t._v("项")]):i("p",{staticClass:"choose"},[t._v("已选择加项"),i("span",{staticClass:"red_color"},[t._v("0")]),t._v("项")])]),t._v(" "),i("a",{staticClass:"next_btn",attrs:{href:"javascript:void(0);"},on:{click:t.goPay}},[t._v("去支付")])])])])},e=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"box box2 flex-b"},[i("div",{staticClass:"coupons"},[t._v("优惠券")]),t._v(" "),i("div",{staticClass:"state"},[t._v("无可用")])])}],o={render:s,staticRenderFns:e};a.a=o}});
//# sourceMappingURL=55.build.js.map