webpackJsonp([57],{207:function(t,i,e){"use strict";function s(t){e(613)}Object.defineProperty(i,"__esModule",{value:!0});var a=e(418),n=e(615),c=e(44),g=s,o=c(a.a,n.a,!1,g,"data-v-b14ac0d2",null);i.default=o.exports},239:function(t,i,e){"use strict";i.a={packPerson:"./static/img/ic_pack_personal.png",packTeam:"./static/img/ic_pack_team.png",packDept:"./static/img/ic_pack_org.png",orgPubImg:"./static/img/ic_org_bg.png",orgImg:"./static/img/ic_org_logo.png",appIconDoctor:"./static/img/app_icon_doctor.png",appIconUser:"./static/img/app_icon.png",topBg:"./static/img/topbg.png",payWx:"./static/img/ic_pay_wechat.png",docMale:"./static/img/ic_doc_male.png",docFeMale:"./static/img/ic_doc_female.png",focusImg:"./static/img/ic_focused.png",unfocusImg:"./static/img/ic_unfocus.png",yuyueImg:"./static/img/ic_yuyue.png",reportImg:"./static/img/ic_report.png",askImg:"./static/img/ic_ask.png",serviceImg:"./static/img/ic_services.png",yuyueGrayImg:"./static/img/ic_yuyue_gray.png",askGrayImg:"./static/img/ic_ask_grey.png",serviceGrayImg:"./static/img/ic_services_grey.png",starImg:"./static/img/ic_rating_all.png",docRectMale:"./static/img/ic_rect_male.png",docRectFeMale:"./static/img/ic_rect_female.png",defaultAva:"./static/img/ic_default_ava.png",appointBg:"./static/img/ic_appoint_bg.png",rulePhoto:"./static/img/ic_rule.png",arrowDown:"./static/img/ic_arrow_down.png",arrowRight:"./static/img/arrow_right.png",arrowR:"./static/img/ic_arrow_right.png",home:"./static/img/home.png",news:"./static/img/news.png",service:"./static/img/service.png",mine:"./static/img/mine.png",doctor:"./static/img/doctor.png",mineBg:"./static/img/mine_bg.png",homeAppoint:"./static/img/home_appoint.png",homeDoctor:"./static/img/home_doctor.png",homeOnline:"./static/img/home_online.png",homeOrder:"./static/img/home_order.png",notice:"./static/img/notice.png",groupUser:"./static/img/ic_group_user.png",groupDoc:"./static/img/ic_group_doc.png",groupDocPatient:"./static/img/ic_group_doc_patient.png",shareImg:"./static/img/share.png",consultationHomeDefault:"./static/img/ic_consulation_home_default.png",consultationHomeSelected:"./static/img/ic_consulation_home_selected.png",consultationMineDefault:"./static/img/ic_consulation_mine_default.png",consultationMineSelected:"./static/img/ic_consulation_mine_selected.png",consultationSmallImg:"./static/img/ic_consultation_small_default.png",consultationBigImg:"./static/img/ic_consultation_big_default.png",consultationWant:"./static/img/ic_want.png",consultationWanted:"./static/img/ic_wanted.png",consultationPaySuccess:"./static/img/ic_sign_success.png",choose:"./static/img/choose.png",chosen:"./static/img/choosen.png",arrowWhiteRight:"./static/img/ic_arrow_right_white.png",consultationMineBg:"./static/img/ic_mine_bg.png",consultationEmpty:"./static/img/ic_empty.png",house_n:"./static/img/house_n.png",house_s:"./static/img/house_s.png",shopping_n:"./static/img/shopping_n.png",shopping_s:"./static/img/shopping_s.png",group_n:"./static/img/group_n.png",group_s:"./static/img/group_s.png",msg_n:"./static/img/msg_n.png",msg_s:"./static/img/msg_s.png",my_n:"./static/img/my_n.png",my_s:"./static/img/my_s.png",focusLookImg:"./static/img/look@2.png",unfocusLookImg:"./static/img/no_look@2.png",assistantHeadImg:"./static/img/assistant_head_img.png",msgTip:"./static/img/msg_tip.png",msgDot:"./static/img/msg_dot.png",systemMsg:"./static/img/system_msg.png",noticeMsg:"./static/img/notice_msg.png",familyDoc:"./static/img/family_doc.png"}},418:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_vuex__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_1__static_js_imgmap_js__=__webpack_require__(239),_extends=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};__webpack_exports__.a={data:function(){return{price:this.$route.query.price,orgId:this.$route.query.orgId,acceptUser:this.$route.query.acceptUser,servId:this.$route.query.servId,busiType:1000112,payWx:__WEBPACK_IMPORTED_MODULE_1__static_js_imgmap_js__.a.payWx,busiId:this.$route.query.busiId}},computed:_extends({},Object(__WEBPACK_IMPORTED_MODULE_0_vuex__.c)(["loginData"]),{servName:function(){var t=this.loginData.userObj,i=t.userName;return i||(i=t.nickName),i}}),methods:{submitOrder:function(){var t=this,i=this;if(this.busiId)this.$indicator.open(),i.wxPay();else{var e={acceptUser:this.acceptUser,familyId:this.loginData.userObj.familyId.value,servId:this.servId,sickName:this.servName};this.$indicator.open(),this.$store.dispatch("servOrderSubmit",e).then(function(t){i.busiId=t.servId.value,i.wxPay()}).catch(function(i){t.$toast(i.message),t.$indicator.close()})}},wxPay:function wxPay(){var _this2=this,vm=this,request={busiId:this.busiId,busiType:this.busiType,desp:"特色服务包",money:this.price,moneyRmb:this.price,orgId:this.orgId,tradeMode:8101104,userId:this.loginData.userObj.userId.value};this.$store.dispatch("userConsume",request).then(function(data){var request=data.data;request?(request=eval("("+request+")"),vm.invokeWx(request)):(_this2.$indicator.close(),alert("支付成功"),vm.$router.go(-2))}).catch(function(t){_this2.$toast(t.message)}).finally(function(){_this2.$indicator.close()})},onBridgeReady:function(t){var i=this;WeixinJSBridge.invoke("getBrandWCPayRequest",t,function(t){"get_brand_wcpay_request:ok"==t.err_msg?(alert("支付成功"),i.$router.go(-1)):alert("支付失败")})},invokeWx:function(t){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",this.onBridgeReady(t),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",this.onBridgeReady(t)),document.attachEvent("onWeixinJSBridgeReady",this.onBridgeReady(t))):this.onBridgeReady(t)}}}},613:function(t,i,e){var s=e(614);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(1)("2e2df668",s,!0,{})},614:function(t,i,e){i=t.exports=e(0)(!1),i.push([t.i,".cell[data-v-b14ac0d2]{background:#fff;line-height:46px}.titlecs[data-v-b14ac0d2]{font-size:14px;color:#b3b3b3;padding-left:12px;vertical-align:middle}.imgw[data-v-b14ac0d2]{width:32px;height:22px;padding-left:12px;vertical-align:middle}.btn[data-v-b14ac0d2]{border-radius:4px;text-align:center;font-size:12px;color:#fff;background-color:#0093ff;height:40px;margin:20px 10%;width:80%;border:1px solid transparent}",""])},615:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"cell"},[e("span",{staticClass:"titlecs"},[t._v("就诊人")]),t._v(" "),e("span",{staticStyle:{color:"rgba(179,179,179,1)",float:"right","padding-right":"12px","vertical-align":"middle","font-size":"14px"}},[t._v(t._s(t.servName))]),t._v(" "),e("hr",{staticClass:"full-line",attrs:{align:"center",size:"1"}})]),t._v(" "),e("div",{staticClass:"cell"},[e("span",{staticClass:"titlecs"},[t._v("总计")]),t._v(" "),e("span",{staticStyle:{color:"rgba(0,147,255,1)",float:"right","padding-right":"12px","vertical-align":"middle","font-size":"14px"}},[t._v("￥"+t._s(t.price))]),t._v(" "),e("hr",{staticClass:"full-line",attrs:{align:"center",size:"1"}})]),t._v(" "),e("div",{staticClass:"cell"},[e("img",{staticClass:"imgw",attrs:{src:t.payWx}}),t._v(" "),e("span",{staticStyle:{"font-size":"15px","margin-left":"6px","vertical-align":"middle"}},[t._v("微信支付")]),t._v(" "),e("hr",{staticClass:"full-line",attrs:{align:"center",size:"1"}})]),t._v(" "),e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.submitOrder}},[t._v("确认支付")])])},a=[],n={render:s,staticRenderFns:a};i.a=n}});
//# sourceMappingURL=57.build.js.map