{"version":3,"sources":["webpack:///57.build.js","webpack:///./src/components/order/ServiceSubmitPay.vue","webpack:///./static/js/imgmap.js","webpack:///src/components/order/ServiceSubmitPay.vue","webpack:///./src/components/order/ServiceSubmitPay.vue?ca6a","webpack:///./src/components/order/ServiceSubmitPay.vue?4393","webpack:///./src/components/order/ServiceSubmitPay.vue?b754"],"names":["webpackJsonp","207","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ServiceSubmitPay_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_b14ac0d2_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ServiceSubmitPay_vue__","normalizeComponent","__vue_styles__","Component","239","packPerson","packTeam","packDept","orgPubImg","orgImg","appIconDoctor","appIconUser","topBg","payWx","docMale","docFeMale","focusImg","unfocusImg","yuyueImg","reportImg","askImg","serviceImg","yuyueGrayImg","askGrayImg","serviceGrayImg","starImg","docRectMale","docRectFeMale","defaultAva","appointBg","rulePhoto","arrowDown","arrowRight","arrowR","home","news","service","mine","doctor","mineBg","homeAppoint","homeDoctor","homeOnline","homeOrder","notice","groupUser","groupDoc","groupDocPatient","shareImg","consultationHomeDefault","consultationHomeSelected","consultationMineDefault","consultationMineSelected","consultationSmallImg","consultationBigImg","consultationWant","consultationWanted","consultationPaySuccess","choose","chosen","arrowWhiteRight","consultationMineBg","consultationEmpty","house_n","house_s","shopping_n","shopping_s","group_n","group_s","msg_n","msg_s","my_n","my_s","focusLookImg","unfocusLookImg","assistantHeadImg","msgTip","msgDot","systemMsg","noticeMsg","familyDoc","418","__WEBPACK_IMPORTED_MODULE_0_vuex__","__WEBPACK_IMPORTED_MODULE_1__static_js_imgmap_js__","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","data","price","this","$route","query","orgId","acceptUser","servId","busiType","busiId","computed","servName","userInfo","loginData","userObj","userName","nickName","methods","submitOrder","_this","vm","$indicator","open","wxPay","request","familyId","sickName","$store","dispatch","then","catch","e","$toast","message","close","_this2","desp","money","moneyRmb","tradeMode","userId","eval","invokeWx","alert","$router","go","finally","onBridgeReady","WeixinJSBridge","invoke","res","err_msg","document","addEventListener","attachEvent","613","exports","content","locals","614","push","615","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","color","float","padding-right","vertical-align","font-size","_s","attrs","align","size","src","margin-left","type","on","click","staticRenderFns","esExports"],"mappings":"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","file":"57.build.js","sourcesContent":["webpackJsonp([57],{\n\n/***/ 207:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ServiceSubmitPay_vue__ = __webpack_require__(418);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_b14ac0d2_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ServiceSubmitPay_vue__ = __webpack_require__(615);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(613)\n}\nvar normalizeComponent = __webpack_require__(44)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b14ac0d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ServiceSubmitPay_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_b14ac0d2_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ServiceSubmitPay_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  packPerson: \"./static/img/ic_pack_personal.png\",\n  packTeam: \"./static/img/ic_pack_team.png\",\n  packDept: \"./static/img/ic_pack_org.png\",\n  orgPubImg: \"./static/img/ic_org_bg.png\",\n  orgImg: \"./static/img/ic_org_logo.png\",\n  appIconDoctor: \"./static/img/app_icon_doctor.png\",\n  appIconUser: \"./static/img/app_icon.png\",\n  topBg: \"./static/img/topbg.png\",\n  payWx: \"./static/img/ic_pay_wechat.png\",\n  docMale: \"./static/img/ic_doc_male.png\",\n  docFeMale: \"./static/img/ic_doc_female.png\",\n  focusImg: \"./static/img/ic_focused.png\",\n  unfocusImg: \"./static/img/ic_unfocus.png\",\n  yuyueImg: \"./static/img/ic_yuyue.png\",\n  reportImg: \"./static/img/ic_report.png\",\n  askImg: \"./static/img/ic_ask.png\",\n  serviceImg: \"./static/img/ic_services.png\",\n  yuyueGrayImg: \"./static/img/ic_yuyue_gray.png\",\n  askGrayImg: \"./static/img/ic_ask_grey.png\",\n  serviceGrayImg: \"./static/img/ic_services_grey.png\",\n  starImg: \"./static/img/ic_rating_all.png\",\n  docRectMale: \"./static/img/ic_rect_male.png\",\n  docRectFeMale: \"./static/img/ic_rect_female.png\",\n  defaultAva: \"./static/img/ic_default_ava.png\",\n  appointBg: \"./static/img/ic_appoint_bg.png\",\n  rulePhoto: \"./static/img/ic_rule.png\",\n  arrowDown: \"./static/img/ic_arrow_down.png\",\n  arrowRight: \"./static/img/arrow_right.png\",\n  arrowR: \"./static/img/ic_arrow_right.png\",\n\n  home: \"./static/img/home.png\",\n  news: \"./static/img/news.png\",\n  service: \"./static/img/service.png\",\n  mine: \"./static/img/mine.png\",\n  doctor: \"./static/img/doctor.png\",\n\n  mineBg: \"./static/img/mine_bg.png\",\n\n  homeAppoint: \"./static/img/home_appoint.png\",\n  homeDoctor: \"./static/img/home_doctor.png\",\n  homeOnline: \"./static/img/home_online.png\",\n  homeOrder: \"./static/img/home_order.png\",\n\n  notice: \"./static/img/notice.png\",\n\n  groupUser: './static/img/ic_group_user.png',\n  groupDoc: './static/img/ic_group_doc.png',\n  groupDocPatient: './static/img/ic_group_doc_patient.png',\n\n  shareImg: \"./static/img/share.png\",\n\n  consultationHomeDefault: \"./static/img/ic_consulation_home_default.png\",\n  consultationHomeSelected: \"./static/img/ic_consulation_home_selected.png\",\n  consultationMineDefault: \"./static/img/ic_consulation_mine_default.png\",\n  consultationMineSelected: \"./static/img/ic_consulation_mine_selected.png\",\n  consultationSmallImg: \"./static/img/ic_consultation_small_default.png\",\n  consultationBigImg: \"./static/img/ic_consultation_big_default.png\",\n  consultationWant: './static/img/ic_want.png',\n  consultationWanted: './static/img/ic_wanted.png',\n  consultationPaySuccess: './static/img/ic_sign_success.png',\n  choose: './static/img/choose.png',\n  chosen: './static/img/choosen.png',\n  arrowWhiteRight: './static/img/ic_arrow_right_white.png',\n  consultationMineBg: './static/img/ic_mine_bg.png',\n  consultationEmpty: './static/img/ic_empty.png',\n\n  /**  新版  ***/\n\n  //首页\n  house_n: './static/img/house_n.png',\n  house_s: './static/img/house_s.png',\n  //商城\n  shopping_n: './static/img/shopping_n.png',\n  shopping_s: './static/img/shopping_s.png',\n  //小组\n  group_n: './static/img/group_n.png',\n  group_s: './static/img/group_s.png',\n  //消息\n  msg_n: './static/img/msg_n.png',\n  msg_s: './static/img/msg_s.png',\n  //我的\n  my_n: './static/img/my_n.png',\n  my_s: './static/img/my_s.png',\n\n  //关注/取消\n  focusLookImg: \"./static/img/look@2.png\",\n  unfocusLookImg: \"./static/img/no_look@2.png\",\n  //医生助理头像\n  assistantHeadImg: \"./static/img/assistant_head_img.png\",\n  //无标记消息\n  msgTip: \"./static/img/msg_tip.png\",\n  //有标记消息\n  msgDot: \"./static/img/msg_dot.png\",\n  //系统消息\n  systemMsg: \"./static/img/system_msg.png\",\n  //通知消息\n  noticeMsg: \"./static/img/notice_msg.png\",\n  //家庭医生\n  familyDoc: \"./static/img/family_doc.png\"\n});\n\n/***/ }),\n\n/***/ 418:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__static_js_imgmap_js__ = __webpack_require__(239);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      price: this.$route.query.price,\n      orgId: this.$route.query.orgId,\n      acceptUser: this.$route.query.acceptUser,\n      servId: this.$route.query.servId,\n      busiType: 1000112,\n      payWx: __WEBPACK_IMPORTED_MODULE_1__static_js_imgmap_js__[\"a\" /* default */].payWx,\n      busiId: this.$route.query.busiId\n    };\n  },\n\n\n  computed: _extends({}, Object(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"c\" /* mapGetters */])(['loginData']), {\n    servName: function servName() {\n      var userInfo = this.loginData.userObj;\n      var servName = userInfo.userName;\n      if (!servName) {\n        servName = userInfo.nickName;\n      }\n      return servName;\n    }\n  }),\n\n  methods: {\n    submitOrder: function submitOrder() {\n      var _this = this;\n\n      var vm = this;\n      if (!this.busiId) {\n        //没有servId,下单\n        var request = { acceptUser: this.acceptUser, familyId: this.loginData.userObj.familyId.value, servId: this.servId, sickName: this.servName };\n        this.$indicator.open();\n        this.$store.dispatch(\"servOrderSubmit\", request).then(function (data) {\n          vm.busiId = data.servId.value;\n          vm.wxPay();\n        }).catch(function (e) {\n          _this.$toast(e.message);\n          _this.$indicator.close();\n        });\n      } else {\n        this.$indicator.open();\n        vm.wxPay();\n      }\n    },\n    wxPay: function wxPay() {\n      var _this2 = this;\n\n      var vm = this;\n      var request = { busiId: this.busiId, busiType: this.busiType, desp: \"特色服务包\", money: this.price, moneyRmb: this.price,\n        orgId: this.orgId, tradeMode: 8101104, userId: this.loginData.userObj.userId.value };\n      this.$store.dispatch(\"userConsume\", request).then(function (data) {\n        //支付成功\n        var request = data.data;\n        if (request) {\n          request = eval('(' + request + \")\");\n          vm.invokeWx(request);\n        } else {\n          _this2.$indicator.close();\n          alert(\"支付成功\");\n          vm.$router.go(-2);\n        }\n      }).catch(function (e) {\n        _this2.$toast(e.message);\n      }).finally(function () {\n        _this2.$indicator.close();\n      });\n    },\n    onBridgeReady: function onBridgeReady(request) {\n      var vm = this;\n      WeixinJSBridge.invoke('getBrandWCPayRequest', request, function (res) {\n        if (res.err_msg == \"get_brand_wcpay_request:ok\") {\n          // 使用以上方式判断前端返回,微信团队郑重提示：\n          //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。\n          alert(\"支付成功\");\n          vm.$router.go(-1);\n        } else {\n          alert(\"支付失败\");\n        }\n      });\n    },\n    invokeWx: function invokeWx(request) {\n      if (typeof WeixinJSBridge == \"undefined\") {\n        if (document.addEventListener) {\n          document.addEventListener('WeixinJSBridgeReady', this.onBridgeReady(request), false);\n        } else if (document.attachEvent) {\n          document.attachEvent('WeixinJSBridgeReady', this.onBridgeReady(request));\n          document.attachEvent('onWeixinJSBridgeReady', this.onBridgeReady(request));\n        }\n      } else {\n        this.onBridgeReady(request);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 613:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(614);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(1)(\"2e2df668\", content, true, {});\n\n/***/ }),\n\n/***/ 614:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cell[data-v-b14ac0d2]{background:#fff;line-height:46px}.titlecs[data-v-b14ac0d2]{font-size:14px;color:#b3b3b3;padding-left:12px;vertical-align:middle}.imgw[data-v-b14ac0d2]{width:32px;height:22px;padding-left:12px;vertical-align:middle}.btn[data-v-b14ac0d2]{border-radius:4px;text-align:center;font-size:12px;color:#fff;background-color:#0093ff;height:40px;margin:20px 10%;width:80%;border:1px solid transparent}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 615:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"cell\"},[_c('span',{staticClass:\"titlecs\"},[_vm._v(\"就诊人\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"rgba(179,179,179,1)\",\"float\":\"right\",\"padding-right\":\"12px\",\"vertical-align\":\"middle\",\"font-size\":\"14px\"}},[_vm._v(_vm._s(_vm.servName))]),_vm._v(\" \"),_c('hr',{staticClass:\"full-line\",attrs:{\"align\":\"center\",\"size\":\"1\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_c('span',{staticClass:\"titlecs\"},[_vm._v(\"总计\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"rgba(0,147,255,1)\",\"float\":\"right\",\"padding-right\":\"12px\",\"vertical-align\":\"middle\",\"font-size\":\"14px\"}},[_vm._v(\"￥\"+_vm._s(_vm.price))]),_vm._v(\" \"),_c('hr',{staticClass:\"full-line\",attrs:{\"align\":\"center\",\"size\":\"1\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_c('img',{staticClass:\"imgw\",attrs:{\"src\":_vm.payWx}}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"15px\",\"margin-left\":\"6px\",\"vertical-align\":\"middle\"}},[_vm._v(\"微信支付\")]),_vm._v(\" \"),_c('hr',{staticClass:\"full-line\",attrs:{\"align\":\"center\",\"size\":\"1\"}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submitOrder}},[_vm._v(\"确认支付\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 57.build.js","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b14ac0d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ServiceSubmitPay.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ServiceSubmitPay.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ServiceSubmitPay.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b14ac0d2\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ServiceSubmitPay.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b14ac0d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/order/ServiceSubmitPay.vue\n// module id = 207\n// module chunks = 57","export default {\n  packPerson: \"./static/img/ic_pack_personal.png\",\n  packTeam: \"./static/img/ic_pack_team.png\",\n  packDept: \"./static/img/ic_pack_org.png\",\n  orgPubImg: \"./static/img/ic_org_bg.png\",\n  orgImg: \"./static/img/ic_org_logo.png\",\n  appIconDoctor: \"./static/img/app_icon_doctor.png\",\n  appIconUser: \"./static/img/app_icon.png\",\n  topBg: \"./static/img/topbg.png\",\n  payWx: \"./static/img/ic_pay_wechat.png\",\n  docMale: \"./static/img/ic_doc_male.png\",\n  docFeMale: \"./static/img/ic_doc_female.png\",\n  focusImg: \"./static/img/ic_focused.png\",\n  unfocusImg: \"./static/img/ic_unfocus.png\",\n  yuyueImg: \"./static/img/ic_yuyue.png\",\n  reportImg: \"./static/img/ic_report.png\",\n  askImg: \"./static/img/ic_ask.png\",\n  serviceImg: \"./static/img/ic_services.png\",\n  yuyueGrayImg: \"./static/img/ic_yuyue_gray.png\",\n  askGrayImg: \"./static/img/ic_ask_grey.png\",\n  serviceGrayImg: \"./static/img/ic_services_grey.png\",\n  starImg: \"./static/img/ic_rating_all.png\",\n  docRectMale: \"./static/img/ic_rect_male.png\",\n  docRectFeMale: \"./static/img/ic_rect_female.png\",\n  defaultAva: \"./static/img/ic_default_ava.png\",\n  appointBg: \"./static/img/ic_appoint_bg.png\",\n  rulePhoto: \"./static/img/ic_rule.png\",\n  arrowDown: \"./static/img/ic_arrow_down.png\",\n  arrowRight: \"./static/img/arrow_right.png\",\n  arrowR: \"./static/img/ic_arrow_right.png\",\n\n  home: \"./static/img/home.png\",\n  news: \"./static/img/news.png\",\n  service: \"./static/img/service.png\",\n  mine: \"./static/img/mine.png\",\n  doctor: \"./static/img/doctor.png\",\n\n  mineBg: \"./static/img/mine_bg.png\",\n\n  homeAppoint: \"./static/img/home_appoint.png\",\n  homeDoctor: \"./static/img/home_doctor.png\",\n  homeOnline: \"./static/img/home_online.png\",\n  homeOrder: \"./static/img/home_order.png\",\n\n  notice: \"./static/img/notice.png\",\n\n  groupUser: './static/img/ic_group_user.png',\n  groupDoc: './static/img/ic_group_doc.png',\n  groupDocPatient: './static/img/ic_group_doc_patient.png',\n\n  shareImg: \"./static/img/share.png\",\n\n\n  consultationHomeDefault: \"./static/img/ic_consulation_home_default.png\",\n  consultationHomeSelected: \"./static/img/ic_consulation_home_selected.png\",\n  consultationMineDefault: \"./static/img/ic_consulation_mine_default.png\",\n  consultationMineSelected: \"./static/img/ic_consulation_mine_selected.png\",\n  consultationSmallImg: \"./static/img/ic_consultation_small_default.png\",\n  consultationBigImg: \"./static/img/ic_consultation_big_default.png\",\n  consultationWant: './static/img/ic_want.png',\n  consultationWanted: './static/img/ic_wanted.png',\n  consultationPaySuccess: './static/img/ic_sign_success.png',\n  choose: './static/img/choose.png',\n  chosen: './static/img/choosen.png',\n  arrowWhiteRight: './static/img/ic_arrow_right_white.png',\n  consultationMineBg: './static/img/ic_mine_bg.png',\n  consultationEmpty: './static/img/ic_empty.png',\n\n  /**  新版  ***/\n\n  //首页\n  house_n: './static/img/house_n.png',\n  house_s: './static/img/house_s.png',\n  //商城\n  shopping_n: './static/img/shopping_n.png',\n  shopping_s: './static/img/shopping_s.png',\n  //小组\n  group_n: './static/img/group_n.png',\n  group_s: './static/img/group_s.png',\n  //消息\n  msg_n: './static/img/msg_n.png',\n  msg_s: './static/img/msg_s.png',\n  //我的\n  my_n: './static/img/my_n.png',\n  my_s: './static/img/my_s.png',\n\n  //关注/取消\n  focusLookImg: \"./static/img/look@2.png\",\n  unfocusLookImg: \"./static/img/no_look@2.png\",\n  //医生助理头像\n  assistantHeadImg: \"./static/img/assistant_head_img.png\",\n  //无标记消息\n  msgTip: \"./static/img/msg_tip.png\",\n  //有标记消息\n  msgDot: \"./static/img/msg_dot.png\",\n  //系统消息\n  systemMsg: \"./static/img/system_msg.png\",\n  //通知消息\n  noticeMsg: \"./static/img/notice_msg.png\",\n  //家庭医生\n  familyDoc: \"./static/img/family_doc.png\",\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/js/imgmap.js","<template>\n    <div>\n      <div class=\"cell\">\n        <span class=\"titlecs\">就诊人</span>\n        <span style=\"color:rgba(179,179,179,1); float:right; padding-right:12px; vertical-align: middle;font-size: 14px;\" >{{ servName }}</span>\n        <hr class=\"full-line\" align= center size=\"1\">\n      </div>\n      <div class=\"cell\">\n        <span class=\"titlecs\">总计</span>\n        <span style=\"color: rgba(0,147,255,1); float:right; padding-right:12px; vertical-align: middle;font-size: 14px;\">￥{{ price }}</span>\n        <hr class=\"full-line\" align= center size=\"1\">\n      </div>\n      <div class=\"cell\">\n        <img class=\"imgw\" :src=\"payWx\">\n        <span style=\"font-size:15px; margin-left:6px; vertical-align: middle;\">微信支付</span>\n        <hr class=\"full-line\" align= center size=\"1\">\n      </div>\n\n      <button type=\"button\" class=\"btn\" @click=\"submitOrder\">确认支付</button>\n    </div>\n</template>\n\n<script>\n  import { mapGetters } from 'vuex'\n  import imgMap from '../../../static/js/imgmap.js';\n    export default {\n      data() {\n        return {\n          price: this.$route.query.price,\n          orgId: this.$route.query.orgId,\n          acceptUser: this.$route.query.acceptUser,\n          servId: this.$route.query.servId,\n          busiType: 1000112,\n          payWx: imgMap.payWx,\n          busiId: this.$route.query.busiId,\n        }\n      },\n\n      computed: {\n        ...mapGetters(['loginData']),\n        servName() {\n          let userInfo = this.loginData.userObj;\n          let servName = userInfo.userName;\n          if(!servName) {\n            servName = userInfo.nickName;\n          }\n          return servName;\n        }\n      },\n\n      methods: {\n        submitOrder() {\n          let vm = this;\n          if(!this.busiId) {  //没有servId,下单\n             let request = {acceptUser: this.acceptUser, familyId: this.loginData.userObj.familyId.value, servId: this.servId, sickName: this.servName};\n            this.$indicator.open();\n            this.$store.dispatch(\"servOrderSubmit\", request).then((data) => {\n                vm.busiId = data.servId.value;\n                vm.wxPay();\n            }).catch(e => {\n              this.$toast(e.message);\n              this.$indicator.close();\n            });\n          } else {\n            this.$indicator.open();\n            vm.wxPay();\n          }\n        },\n        wxPay() {\n          let vm = this;\n          let request = { busiId: this.busiId, busiType: this.busiType, desp :\"特色服务包\",  money: this.price, moneyRmb:this.price,\n            orgId: this.orgId, tradeMode :8101104, userId :this.loginData.userObj.userId.value};\n          this.$store.dispatch(\"userConsume\", request).then((data) => {\n            //支付成功\n            let request = data.data;\n            if(request) {\n              request = eval('(' + request + \")\");\n              vm.invokeWx(request);\n            } else {\n                this.$indicator.close();\n                alert(\"支付成功\");\n                vm.$router.go(-2);\n            }\n          }).catch(e => {\n            this.$toast(e.message);\n          }).finally(() => {\n            this.$indicator.close();\n          });\n        },\n        onBridgeReady(request) {\n          let vm = this;\n          WeixinJSBridge.invoke('getBrandWCPayRequest', request, function(res){\n              if(res.err_msg == \"get_brand_wcpay_request:ok\" ){\n                // 使用以上方式判断前端返回,微信团队郑重提示：\n                //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。\n                alert(\"支付成功\");\n                vm.$router.go(-1);\n              } else {\n                alert(\"支付失败\");\n              }\n            });\n        },\n\n        invokeWx(request) {\n          if (typeof WeixinJSBridge == \"undefined\"){\n            if(document.addEventListener ){\n              document.addEventListener('WeixinJSBridgeReady', this.onBridgeReady(request), false);\n            }else if (document.attachEvent){\n              document.attachEvent('WeixinJSBridgeReady', this.onBridgeReady(request));\n              document.attachEvent('onWeixinJSBridgeReady', this.onBridgeReady(request));\n            }\n          }else{\n            this.onBridgeReady(request);\n          }\n        }\n      }\n    }\n</script>\n\n<style scoped>\n  .cell{\n    background:rgba(255,255,255,1);\n    line-height: 46px;\n  }\n\n  .titlecs{\n    font-size:14px;\n    color:rgba(179,179,179,1);\n    padding-left:12px;\n    vertical-align: middle;\n  }\n\n  .imgw{\n    width: 32px;\n    height: 22px;\n    padding-left: 12px;\n    vertical-align: middle;\n  }\n\n  .btn{\n    border-radius: 4px;\n    text-align: center;\n    font-size:12px;\n    color: white;\n    background-color: rgba(0,147,255,1);\n    height: 40px;\n    margin: 20px 10%;\n    width: 80%;\n    border: 1px solid transparent;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/order/ServiceSubmitPay.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b14ac0d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ServiceSubmitPay.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"2e2df668\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-b14ac0d2\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/order/ServiceSubmitPay.vue\n// module id = 613\n// module chunks = 57","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cell[data-v-b14ac0d2]{background:#fff;line-height:46px}.titlecs[data-v-b14ac0d2]{font-size:14px;color:#b3b3b3;padding-left:12px;vertical-align:middle}.imgw[data-v-b14ac0d2]{width:32px;height:22px;padding-left:12px;vertical-align:middle}.btn[data-v-b14ac0d2]{border-radius:4px;text-align:center;font-size:12px;color:#fff;background-color:#0093ff;height:40px;margin:20px 10%;width:80%;border:1px solid transparent}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-b14ac0d2\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/order/ServiceSubmitPay.vue\n// module id = 614\n// module chunks = 57","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"cell\"},[_c('span',{staticClass:\"titlecs\"},[_vm._v(\"就诊人\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"rgba(179,179,179,1)\",\"float\":\"right\",\"padding-right\":\"12px\",\"vertical-align\":\"middle\",\"font-size\":\"14px\"}},[_vm._v(_vm._s(_vm.servName))]),_vm._v(\" \"),_c('hr',{staticClass:\"full-line\",attrs:{\"align\":\"center\",\"size\":\"1\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_c('span',{staticClass:\"titlecs\"},[_vm._v(\"总计\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"rgba(0,147,255,1)\",\"float\":\"right\",\"padding-right\":\"12px\",\"vertical-align\":\"middle\",\"font-size\":\"14px\"}},[_vm._v(\"￥\"+_vm._s(_vm.price))]),_vm._v(\" \"),_c('hr',{staticClass:\"full-line\",attrs:{\"align\":\"center\",\"size\":\"1\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_c('img',{staticClass:\"imgw\",attrs:{\"src\":_vm.payWx}}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"15px\",\"margin-left\":\"6px\",\"vertical-align\":\"middle\"}},[_vm._v(\"微信支付\")]),_vm._v(\" \"),_c('hr',{staticClass:\"full-line\",attrs:{\"align\":\"center\",\"size\":\"1\"}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submitOrder}},[_vm._v(\"确认支付\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b14ac0d2\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/order/ServiceSubmitPay.vue\n// module id = 615\n// module chunks = 57"],"sourceRoot":""}