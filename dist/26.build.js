webpackJsonp([26],{186:function(t,i,e){"use strict";function s(t){e(521)}Object.defineProperty(i,"__esModule",{value:!0});var o=e(391),a=e(527),c=e(44),n=s,g=c(o.a,a.a,!1,n,"data-v-204f9b5e",null);i.default=g.exports},239:function(t,i,e){"use strict";i.a={packPerson:"./static/img/ic_pack_personal.png",packTeam:"./static/img/ic_pack_team.png",packDept:"./static/img/ic_pack_org.png",orgPubImg:"./static/img/ic_org_bg.png",orgImg:"./static/img/ic_org_logo.png",appIconDoctor:"./static/img/app_icon_doctor.png",appIconUser:"./static/img/app_icon.png",topBg:"./static/img/topbg.png",payWx:"./static/img/ic_pay_wechat.png",docMale:"./static/img/ic_doc_male.png",docFeMale:"./static/img/ic_doc_female.png",focusImg:"./static/img/ic_focused.png",unfocusImg:"./static/img/ic_unfocus.png",yuyueImg:"./static/img/ic_yuyue.png",reportImg:"./static/img/ic_report.png",askImg:"./static/img/ic_ask.png",serviceImg:"./static/img/ic_services.png",yuyueGrayImg:"./static/img/ic_yuyue_gray.png",askGrayImg:"./static/img/ic_ask_grey.png",serviceGrayImg:"./static/img/ic_services_grey.png",starImg:"./static/img/ic_rating_all.png",docRectMale:"./static/img/ic_rect_male.png",docRectFeMale:"./static/img/ic_rect_female.png",defaultAva:"./static/img/ic_default_ava.png",appointBg:"./static/img/ic_appoint_bg.png",rulePhoto:"./static/img/ic_rule.png",arrowDown:"./static/img/ic_arrow_down.png",arrowRight:"./static/img/arrow_right.png",arrowR:"./static/img/ic_arrow_right.png",home:"./static/img/home.png",news:"./static/img/news.png",service:"./static/img/service.png",mine:"./static/img/mine.png",doctor:"./static/img/doctor.png",mineBg:"./static/img/mine_bg.png",homeAppoint:"./static/img/home_appoint.png",homeDoctor:"./static/img/home_doctor.png",homeOnline:"./static/img/home_online.png",homeOrder:"./static/img/home_order.png",notice:"./static/img/notice.png",groupUser:"./static/img/ic_group_user.png",groupDoc:"./static/img/ic_group_doc.png",groupDocPatient:"./static/img/ic_group_doc_patient.png",shareImg:"./static/img/share.png",consultationHomeDefault:"./static/img/ic_consulation_home_default.png",consultationHomeSelected:"./static/img/ic_consulation_home_selected.png",consultationMineDefault:"./static/img/ic_consulation_mine_default.png",consultationMineSelected:"./static/img/ic_consulation_mine_selected.png",consultationSmallImg:"./static/img/ic_consultation_small_default.png",consultationBigImg:"./static/img/ic_consultation_big_default.png",consultationWant:"./static/img/ic_want.png",consultationWanted:"./static/img/ic_wanted.png",consultationPaySuccess:"./static/img/ic_sign_success.png",choose:"./static/img/choose.png",chosen:"./static/img/choosen.png",arrowWhiteRight:"./static/img/ic_arrow_right_white.png",consultationMineBg:"./static/img/ic_mine_bg.png",consultationEmpty:"./static/img/ic_empty.png",house_n:"./static/img/house_n.png",house_s:"./static/img/house_s.png",shopping_n:"./static/img/shopping_n.png",shopping_s:"./static/img/shopping_s.png",group_n:"./static/img/group_n.png",group_s:"./static/img/group_s.png",msg_n:"./static/img/msg_n.png",msg_s:"./static/img/msg_s.png",my_n:"./static/img/my_n.png",my_s:"./static/img/my_s.png",focusLookImg:"./static/img/look@2.png",unfocusLookImg:"./static/img/no_look@2.png",assistantHeadImg:"./static/img/assistant_head_img.png",msgTip:"./static/img/msg_tip.png",msgDot:"./static/img/msg_dot.png",systemMsg:"./static/img/system_msg.png",noticeMsg:"./static/img/notice_msg.png",familyDoc:"./static/img/family_doc.png"}},391:function(t,i,e){"use strict";var s=e(12),o=e(523),a=e(239),c=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};i.a={data:function(){return{docMsgList:[],orgId:this.$route.query.orgId,modeId:this.$route.query.modeId,title:this.$route.query.title,isDocMsg:this.$route.query.isDocMsg,docName:this.$route.query.docName,targetId:this.$route.query.targetId,docPhotoUrl:this.$route.query.docPhotoUrl,gender:this.$route.query.gender,isTalk:!1}},components:{doctorMsgItem:o.a},computed:c({},Object(s.c)(["loginData"]),{consultationEmpty:function(){return a.a.consultationEmpty}}),methods:{toChat:function(){this.$router.push({path:"chat",query:{docId:this.targetId,drName:this.docName,friendHeadUrl:this.docPhotoUrl,isDoctorChat:"1",isTalk:this.isTalk}})},goDocDetail:function(){this.$router.push({path:"doctorDetail",query:{userId:this.targetId}})},goChatRecord:function(){this.$router.push({path:"recordList",query:{docId:this.targetId,userId:this.loginData.userObj.userId.value,friendHeadUrl:this.docPhotoUrl,gender:this.gender}})},goMoreServer:function(){this.$router.push({path:"serviceList",query:{acceptId:this.targetId}})},requestMsgList:function(){var t=this,i=this,e={orgId:this.orgId,userId:this.loginData.userObj.userId.value,modeId:this.modeId,targetId:this.targetId};this.$store.dispatch("sysMesList",e).then(function(t){if(t.mesList)for(var e=0;e<t.mesList.length;e++)i.docMsgList.push(t.mesList[e])}).catch(function(i){t.$toast(i.message)})},requestImStatus:function(){var t=this,i={docId:this.targetId,userId:this.loginData.userObj.userId.value};this.$store.dispatch("imStatus",i).then(function(i){"1"==i.rtnCode&&(t.isTalk=i.isTalk)}).catch(function(i){t.$toast(i.message)})}},created:function(){this.requestMsgList(),document.title="消息列表","true"==this.isDocMsg?(document.title=this.docName,this.requestImStatus()):document.title=this.title}}},392:function(t,i,e){"use strict";var s=e(12),o=(e(11),e(239),Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t});i.a={data:function(){return{}},props:{docMsgList:{},orgId:""},computed:o({},Object(s.c)(["loginData"]),{msgTime:function(){var t=this.docMsgList.time;t=t.substring(0,19),t=t.replace(/\//g,"/");var i=parseInt(new Date(t).getTime()/1e3),e=parseInt(Date.parse(new Date)/1e3),s=e-i;return t=s>=86400&&s<=259200?parseInt(s/86400)+"天前":s>=3600&&s<=86400?parseInt(s/3600)+"小时前":s>=600&&s<=3600?parseInt(s/600)+"分钟前":s<600?"刚刚":new Date(Date.parse(t)).format("MM-dd")},msgType:function(){return"文章发布"==this.docMsgList.busiType||"小组文章"==this.docMsgList.busiType?"1":"预约服务"==this.docMsgList.busiType||"预约消息"==this.docMsgList.busiType||"预约"==this.docMsgList.busiType?"2":"关注医生"==this.docMsgList.busiType?"3":"关注医院"==this.docMsgList.busiType?"4":void 0}}),mounted:function(){window.addEventListener("popstate",function(t){console.log("返回啦")},!1)},methods:{goOrgHome:function(){this.$router.push({path:"home",query:{orgId:this.orgId}})},goArticleDetail:function(t){this.$router.push({path:"topicDetail",query:{groupid:"",con_id:t.busiId.value,orgNames:this.orgNames,orgId:this.orgId}})},goOrderDetail:function(){this.$router.push({path:"appointOrderList",query:{orgId:this.orgId}})},goReportDetail:function(t){this.$router.push({path:"patientReport",query:{docId:t.busiId.value}})}}}},521:function(t,i,e){var s=e(522);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(1)("2fd03ea9",s,!0,{})},522:function(t,i,e){i=t.exports=e(0)(!1),i.push([t.i,'.empty[data-v-204f9b5e]{padding:50px 40px;text-align:center}.box[data-v-204f9b5e]{padding:0 16px}.bottom_box[data-v-204f9b5e]{position:fixed;bottom:0;height:50px;line-height:50px;background:#fff;display:flex;width:100%}.bottom_box span[data-v-204f9b5e]{flex:1;text-align:center;color:#040b1c;font-size:13px;font-weight:500;position:relative}.bottom_box span[data-v-204f9b5e]:not(:last-child):after{content:"";position:absolute;right:0;width:1px;height:15px;top:17.5px;background:rgba(4,11,28,.1)}.padding[data-v-204f9b5e]{padding-bottom:100px}.flex_btn[data-v-204f9b5e]{position:fixed;right:16px;bottom:80px;width:56px;height:56px;line-height:56px;border-radius:50px;background:linear-gradient(280deg,#006aff,#0093ff);color:#fff;font-size:14px;font-weight:500;text-align:center}',""])},523:function(t,i,e){"use strict";function s(t){e(524)}var o=e(392),a=e(526),c=e(44),n=s,g=c(o.a,a.a,!1,n,"data-v-0eacb139",null);i.a=g.exports},524:function(t,i,e){var s=e(525);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(1)("d7ccd234",s,!0,{})},525:function(t,i,e){i=t.exports=e(0)(!1),i.push([t.i,".msg_box[data-v-0eacb139]{padding:15px;margin-top:15px;background:#fff}.title_box[data-v-0eacb139]{padding-bottom:15px;border-bottom:1px solid rgba(4,11,28,.1)}.title[data-v-0eacb139]{font-size:15px;color:#040b1c;font-weight:500;max-width:235px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.time[data-v-0eacb139]{font-size:13px;color:rgba(4,11,28,.3)}.centet_text[data-v-0eacb139]{font-size:14px;color:rgba(4,11,28,.5);margin-top:10px;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.type[data-v-0eacb139]{margin-top:10px;font-size:14px;color:#0076ff}",""])},526:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"msg_box"},[e("div",{staticClass:"title_box flex-b"},[e("div",{staticClass:"title"},[t._v(t._s(t.docMsgList.title))]),t._v(" "),e("div",{staticClass:"time"},[t._v(t._s(t.msgTime))])]),t._v(" "),e("div",{staticClass:"centet_text"},[t._v(t._s(t.docMsgList.content))]),t._v(" "),"1"==t.msgType?e("div",{staticClass:"type"},[t._v("查看文章")]):t._e(),t._v(" "),"2"==t.msgType?e("div",{staticClass:"type",on:{click:t.goOrderDetail}},[t._v("查看详情")]):t._e(),t._v(" "),"3"==t.msgType?e("div",{staticClass:"type",on:{click:function(i){t.goReportDetail(t.docMsgList)}}},[t._v("立即报到")]):t._e(),t._v(" "),"4"==t.msgType?e("div",{staticClass:"type",on:{click:t.goOrgHome}},[t._v("查看详情")]):t._e()])])},o=[],a={render:s,staticRenderFns:o};i.a=a},527:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t.docMsgList.length>0?e("div",[e("div",{staticClass:"box",class:"true"==t.isDocMsg?"padding":""},t._l(t.docMsgList,function(i,s){return e("doctor-msg-item",{key:s,attrs:{index:s,docMsgList:i,orgId:t.orgId}})})),t._v(" "),"true"==t.isDocMsg?e("div",{staticClass:"bottom_box"},[e("span",{on:{click:t.goDocDetail}},[t._v("医生主页")]),t._v(" "),e("span",{on:{click:t.goChatRecord}},[t._v("咨询记录")]),t._v(" "),e("span",{on:{click:t.goMoreServer}},[t._v("更多服务")])]):t._e(),t._v(" "),t.isTalk&&"true"==t.isDocMsg?e("div",{staticClass:"flex_btn",on:{click:t.toChat}},[t._v("问诊中")]):t._e()]):t._e(),t._v(" "),0==t.docMsgList.length?e("div",{staticClass:"empty"},[e("img",{attrs:{src:t.consultationEmpty,width:"144px",height:"136px"}}),t._v(" "),e("div",{staticStyle:{"font-size":"15px","margin-top":"10px",color:"#b3b3b3"}},[t._v("暂无消息记录")])]):t._e()])},o=[],a={render:s,staticRenderFns:o};i.a=a}});
//# sourceMappingURL=26.build.js.map