webpackJsonp([21],{169:function(t,i,e){"use strict";function a(t){e(336)}Object.defineProperty(i,"__esModule",{value:!0});var s=e(276),n=e(342),r=e(44),o=a,c=r(s.a,n.a,!1,o,"data-v-18d75856",null);i.default=c.exports},239:function(t,i,e){"use strict";i.a={packPerson:"./static/img/ic_pack_personal.png",packTeam:"./static/img/ic_pack_team.png",packDept:"./static/img/ic_pack_org.png",orgPubImg:"./static/img/ic_org_bg.png",orgImg:"./static/img/ic_org_logo.png",appIconDoctor:"./static/img/app_icon_doctor.png",appIconUser:"./static/img/app_icon.png",topBg:"./static/img/topbg.png",payWx:"./static/img/ic_pay_wechat.png",docMale:"./static/img/ic_doc_male.png",docFeMale:"./static/img/ic_doc_female.png",focusImg:"./static/img/ic_focused.png",unfocusImg:"./static/img/ic_unfocus.png",yuyueImg:"./static/img/ic_yuyue.png",reportImg:"./static/img/ic_report.png",askImg:"./static/img/ic_ask.png",serviceImg:"./static/img/ic_services.png",yuyueGrayImg:"./static/img/ic_yuyue_gray.png",askGrayImg:"./static/img/ic_ask_grey.png",serviceGrayImg:"./static/img/ic_services_grey.png",starImg:"./static/img/ic_rating_all.png",docRectMale:"./static/img/ic_rect_male.png",docRectFeMale:"./static/img/ic_rect_female.png",defaultAva:"./static/img/ic_default_ava.png",appointBg:"./static/img/ic_appoint_bg.png",rulePhoto:"./static/img/ic_rule.png",arrowDown:"./static/img/ic_arrow_down.png",arrowRight:"./static/img/arrow_right.png",arrowR:"./static/img/ic_arrow_right.png",home:"./static/img/home.png",news:"./static/img/news.png",service:"./static/img/service.png",mine:"./static/img/mine.png",doctor:"./static/img/doctor.png",mineBg:"./static/img/mine_bg.png",homeAppoint:"./static/img/home_appoint.png",homeDoctor:"./static/img/home_doctor.png",homeOnline:"./static/img/home_online.png",homeOrder:"./static/img/home_order.png",notice:"./static/img/notice.png",groupUser:"./static/img/ic_group_user.png",groupDoc:"./static/img/ic_group_doc.png",groupDocPatient:"./static/img/ic_group_doc_patient.png",shareImg:"./static/img/share.png",consultationHomeDefault:"./static/img/ic_consulation_home_default.png",consultationHomeSelected:"./static/img/ic_consulation_home_selected.png",consultationMineDefault:"./static/img/ic_consulation_mine_default.png",consultationMineSelected:"./static/img/ic_consulation_mine_selected.png",consultationSmallImg:"./static/img/ic_consultation_small_default.png",consultationBigImg:"./static/img/ic_consultation_big_default.png",consultationWant:"./static/img/ic_want.png",consultationWanted:"./static/img/ic_wanted.png",consultationPaySuccess:"./static/img/ic_sign_success.png",choose:"./static/img/choose.png",chosen:"./static/img/choosen.png",arrowWhiteRight:"./static/img/ic_arrow_right_white.png",consultationMineBg:"./static/img/ic_mine_bg.png",consultationEmpty:"./static/img/ic_empty.png",house_n:"./static/img/house_n.png",house_s:"./static/img/house_s.png",shopping_n:"./static/img/shopping_n.png",shopping_s:"./static/img/shopping_s.png",group_n:"./static/img/group_n.png",group_s:"./static/img/group_s.png",msg_n:"./static/img/msg_n.png",msg_s:"./static/img/msg_s.png",my_n:"./static/img/my_n.png",my_s:"./static/img/my_s.png",focusLookImg:"./static/img/look@2.png",unfocusLookImg:"./static/img/no_look@2.png",assistantHeadImg:"./static/img/assistant_head_img.png",msgTip:"./static/img/msg_tip.png",msgDot:"./static/img/msg_dot.png",systemMsg:"./static/img/system_msg.png",noticeMsg:"./static/img/notice_msg.png",familyDoc:"./static/img/family_doc.png"}},276:function(t,i,e){"use strict";var a=e(12),s=e(338),n=e(239),r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t};i.a={data:function(){return{orderList:[],loading:!1,orgId:this.$route.query.orgId,page:1,loaded:!1}},components:{orderItem:s.a},computed:r({},Object(a.c)(["loginData"]),{consultationEmpty:function(){return n.a.consultationEmpty}}),methods:{toDetail:function(t){},loadMore:function(){this.loaded||this.requestOrderList()},requestOrderList:function(){var t=this;this.loading=!0;var i={planStatus:0,status:0,pageNum:1,pageSize:10,orgId:this.orgId},e=this;this.$store.dispatch("servOrderList",i).then(function(t){if(e.page++,t.orderList)for(var i=0;i<t.orderList.length;i++)e.orderList.push(t.orderList[i]);e.loaded=e.orderList.length==t.total,e.loading=!1}).catch(function(i){e.loading=!1,e.loaded=!0,t.$toast(i.message)})},cancelOrder:function(t){var i=this,e=this;this.$indicator.open(),this.$store.dispatch("servOrderAudit",t).then(function(){i.$toast("取消成功"),e.updateOrderItem(t)}).catch(function(t){i.$toast(t.message)}).finally(function(){i.$indicator.close()})},updateOrderItem:function(t){for(var i=0;i<this.orderList.length;i++){var e=this.orderList[i];if(e.orderId.value==t.orderId){e.isEnd.value="1",e.cancelStatus.value="1";break}}}},created:function(){this.requestOrderList()}}},277:function(t,i,e){"use strict";var a=e(239),s=e(11);i.a={props:["orderItem"],computed:{servImgUrl:function(){return this.orderItem.servImgUrl?this.orderItem.servImgUrl:this.orderItem.servType.value==s.u?a.a.packPerson:this.orderItem.servType.value==s.v?a.a.packTeam:a.a.packDept},typeName:function(){var t=this.orderItem.status.value,i=this.orderItem.isEnd.value;return t==s.r||t==s.q?"已完成":"0"!=i?"已取消":t==s.t?"未付款":t==s.s?"待确认":t==s.p?"服务中":void 0},isShowPay:function(){var t=this.orderItem.status.value;return"0"==this.orderItem.isEnd.value&&t==s.t},isShowCancel:function(){var t=this.orderItem.status.value;return"0"==this.orderItem.isEnd.value&&t==s.s},isShowContact:function(){var t=this.orderItem.status.value;return"0"==this.orderItem.isEnd.value&&t==s.p},deptName:function(){if(this.orderItem.department&&this.orderItem.department.value==s.d){if(this.orderItem.deptDesp)return this.orderItem.deptDesp;if(this.orderItem.departmentName)return this.orderItem.departmentName}else if(this.orderItem.departmentName)return this.orderItem.departmentName;return""},serverUser:function(){var t=this.orderItem.acceptUserObj;if(t){var i=t.userName;return t.department&&t.department.value==s.d&&t.deptDesp?i+=t.deptDesp:t.departmentName&&(i+=t.departmentName),t.titlesName&&(i+=t.titlesName),i}}},methods:{goPay:function(){this.$router.push({path:"serviceSubmitPay",query:{busiId:this.orderItem.orderId.value,price:this.orderItem.price,orgId:this.orderItem.orgId.value}})},cancelOrder:function(){var t={orderId:this.orderItem.orderId.value,status:-1};this.$emit("cancelOrder",t)},contact:function(){var t=this.orderItem.acceptUserObj;t&&this.$router.push({path:"chat",query:{docId:t.userId.value,drName:t.userName,friendHeadUrl:t.photoUrl,gender:t.gender.value}})}}}},336:function(t,i,e){var a=e(337);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(1)("cc1a9d0e",a,!0,{})},337:function(t,i,e){i=t.exports=e(0)(!1),i.push([t.i,"li[data-v-18d75856],ul[data-v-18d75856]{padding:0;list-style:none;margin:0}.empty[data-v-18d75856]{padding:50px 40px;text-align:center}",""])},338:function(t,i,e){"use strict";function a(t){e(339)}var s=e(277),n=e(341),r=e(44),o=a,c=r(s.a,n.a,!1,o,"data-v-0dad3026",null);i.a=c.exports},339:function(t,i,e){var a=e(340);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(1)("fe1df4ae",a,!0,{})},340:function(t,i,e){i=t.exports=e(0)(!1),i.push([t.i,".namecs[data-v-0dad3026]{font-size:18px;font-weight:700;color:#222}.singleLine[data-v-0dad3026]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.titlecs[data-v-0dad3026]{font-size:15px;font-weight:400;color:#222}.money[data-v-0dad3026]{font-size:15px;font-weight:500;color:#222;margin-right:16px;float:right}.btn1[data-v-0dad3026]{border-radius:4px;text-align:center;font-size:12px;font-weight:400;color:#0093ff;border:1px solid #0093ff;background-color:#fff;height:29px;float:right;margin-right:13px;padding:0 5px}.state[data-v-0dad3026]{font-size:15px;font-weight:700;color:#ff4343;float:right}",""])},341:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticStyle:{background:"white",margin:"0 15px"}},[e("div",{staticStyle:{padding:"12px 16px"}},[e("span",{staticClass:"titlecs"},[t._v(t._s(t.orderItem.orgNames))]),t._v(" "),e("span",{staticClass:"state"},[t._v(t._s(t.typeName))])]),t._v(" "),e("hr",{staticClass:"full-line",staticStyle:{margin:"0px 16px"},attrs:{size:"1 "}}),t._v(" "),e("div",{staticStyle:{padding:"12px 16px",display:"flex"}},[e("img",{attrs:{width:"80px",height:"80px",src:t.servImgUrl}}),t._v(" "),e("div",{staticStyle:{"margin-left":"10px"}},[e("div",{staticClass:"namecs singleLine"},[t._v(t._s(t.orderItem.servName))]),t._v(" "),e("div",{staticClass:"titlecs singleLine",staticStyle:{"margin-top":"3px"}},[t._v("服务人: "+t._s(t.serverUser))]),t._v(" "),e("div",{staticClass:"titlecs singleLine",staticStyle:{"margin-top":"3px"}},[t._v("就诊人: "+t._s(t.orderItem.sickName))])])]),t._v(" "),e("div",{staticClass:"money"},[t._v("服务包："),e("strong",[t._v("¥"+t._s(t.orderItem.price))])]),t._v(" "),e("div",{staticStyle:{display:"inline-block","padding-top":"10px","padding-bottom":"10px",width:"100%"}},[t.isShowContact?e("button",{staticClass:"btn1",attrs:{type:"button"},on:{click:function(i){return i.stopPropagation(),t.contact(i)}}},[t._v("联系医生")]):t._e(),t._v(" "),t.isShowCancel?e("button",{staticClass:"btn1",attrs:{type:"button"},on:{click:function(i){return i.stopPropagation(),t.cancelOrder(i)}}},[t._v("取消订单")]):t._e(),t._v(" "),t.isShowPay?e("button",{staticClass:"btn1",attrs:{type:"button"},on:{click:function(i){return i.stopPropagation(),t.goPay(i)}}},[t._v("去支付")]):t._e()]),t._v(" "),e("div",{staticStyle:{height:"10px",background:"#f7f7f7"}})])},s=[],n={render:a,staticRenderFns:s};i.a=n},342:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t.orderList.length>0?e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"50","infinite-scroll-immediate-check":"false"}},t._l(t.orderList,function(i){return e("order-item",{key:i.orderId.value,attrs:{orderItem:i},on:{cancelOrder:t.cancelOrder},nativeOn:{click:function(e){t.toDetail(i)}}})})):t._e(),t._v(" "),0==t.orderList.length?e("div",{staticClass:"empty"},[e("img",{attrs:{src:t.consultationEmpty,width:"144px",height:"136px"}}),t._v(" "),e("div",{staticStyle:{"font-size":"15px","margin-top":"10px",color:"#b3b3b3"}},[t._v("暂无此类订单")])]):t._e()])},s=[],n={render:a,staticRenderFns:s};i.a=n}});
//# sourceMappingURL=21.build.js.map