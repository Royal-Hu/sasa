{"version":3,"sources":["webpack:///40.build.js","webpack:///./src/components/sign/Sign.vue","webpack:///src/components/Header.vue","webpack:///./src/components/Header.vue","webpack:///./src/components/Header.vue?b67a","webpack:///./src/components/Header.vue?8010","webpack:///./src/components/Header.vue?9fe0","webpack:///src/components/sign/Sign.vue","webpack:///./src/components/sign/Sign.vue?4996","webpack:///./src/components/sign/Sign.vue?ceb6","webpack:///./src/components/sign/Sign.vue?c816"],"names":["webpackJsonp","180","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Sign_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f0688138_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Sign_vue__","normalizeComponent","__vue_styles__","Component","240","props","showBack","default","title","showMenu","methods","back","this","$router","go","menu","$emit","241","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Header_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6e4a17e8_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Header_vue__","242","exports","content","i","locals","243","push","244","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","fixed","slot","icon","nativeOn","click","$event","_e","_v","staticRenderFns","esExports","381","__WEBPACK_IMPORTED_MODULE_0__Header__","data","signId","contUrl","img","components","appHeader","computed","confirmDisplay","signDivWidth","signText","goSign","confirm","_this","imgData","substring","length","request","signImg","$indicator","open","$store","dispatch","then","replace","path","query","price","catch","err","$toast","message","finally","close","initImg","sessionStorage","getItem","$refs","iframe","contentWindow","postMessage","changeFrameHeight","height","document","documentElement","clientHeight","created","params","JSON","parse","mounted","vm","getElementById","attachEvent","onload","486","487","488","ref","src","frameborder","width","scrolling","id","style","display","size","type","_s"],"mappings":"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","file":"40.build.js","sourcesContent":["webpackJsonp([40],{\n\n/***/ 180:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Sign_vue__ = __webpack_require__(381);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f0688138_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Sign_vue__ = __webpack_require__(488);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(486)\n}\nvar normalizeComponent = __webpack_require__(44)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f0688138\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Sign_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f0688138_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Sign_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 240:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    showBack: {\n      default: true\n    },\n    title: {\n      default: '在线问诊'\n    },\n    showMenu: {\n      default: false\n    }\n  },\n  methods: {\n    back: function back() {\n      this.$router.go(-1);\n    },\n    menu: function menu() {\n      this.$emit(\"confirm\");\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 241:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Header_vue__ = __webpack_require__(240);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6e4a17e8_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Header_vue__ = __webpack_require__(244);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(242)\n}\nvar normalizeComponent = __webpack_require__(44)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Header_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6e4a17e8_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Header_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 242:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(243);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(1)(\"67921c4f\", content, true, {});\n\n/***/ }),\n\n/***/ 243:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".header_box,.mint-header{background:#fff}.mint-header .mint-button .mintui-back{color:rgba(4,11,28,.8)}.mint-header-title{font-size:15px;color:#006dff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header_box\"},[_c('mt-header',{attrs:{\"fixed\":\"\",\"title\":_vm.title}},[(_vm.showBack)?_c('mt-button',{attrs:{\"slot\":\"left\",\"icon\":\"back\"},nativeOn:{\"click\":function($event){return _vm.back($event)}},slot:\"left\"}):_vm._e(),_vm._v(\" \"),(_vm.showMenu)?_c('mt-button',{attrs:{\"slot\":\"right\"},nativeOn:{\"click\":function($event){return _vm.menu($event)}},slot:\"right\"},[_vm._v(\"确定\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 381:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Header__ = __webpack_require__(241);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__routes_js__ = __webpack_require__(47);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      signId: '',\n      contUrl: '',\n      img: ''\n    };\n  },\n\n  components: {\n    appHeader: __WEBPACK_IMPORTED_MODULE_0__Header__[\"a\" /* default */]\n  },\n  computed: {\n    confirmDisplay: function confirmDisplay() {\n      if (this.img) return 'inline-block';\n      return 'none';\n    },\n    signDivWidth: function signDivWidth() {\n      if (this.img) return '48%';\n      return '100%';\n    },\n    signText: function signText() {\n      if (this.img) return '修改签名';\n      return '去签名';\n    }\n  },\n  methods: {\n    // resetRouter () {\n    //   const newRouter = new VueRoute({\n    //     mode: 'history',\n    //     routes\n    //   });\n    //   this.$router.matcher = newRouter.matcher // the relevant part\n    // },\n    goSign: function goSign() {\n      this.$router.push(\"/signature\");\n    },\n    confirm: function confirm() {\n      var _this = this;\n\n      //data:image/png;base64,\n      var imgData = this.img.substring(22, this.img.length);\n      var request = {\n        signId: this.signId,\n        signImg: imgData\n      };\n      this.$indicator.open();\n      this.$store.dispatch(\"signImgCommit\", request).then(function (data) {\n        _this.$router.replace({ path: \"success\", query: { price: data.price } });\n      }).catch(function (err) {\n        _this.$toast(err.message);\n      }).finally(function () {\n        _this.$indicator.close();\n      });\n    },\n    initImg: function initImg() {\n      if (sessionStorage.getItem(\"img\")) {\n        this.img = sessionStorage.getItem(\"img\");\n        this.$refs.iframe.contentWindow.postMessage(this.img, '*');\n      }\n    },\n    changeFrameHeight: function changeFrameHeight() {\n      this.$refs.iframe.height = document.documentElement.clientHeight * 2;\n    }\n  },\n  created: function created() {\n    var params = sessionStorage.getItem(\"signData\");\n    if (params) {\n      var data = JSON.parse(params);\n      this.signId = data.signId.value;\n      this.contUrl = data.contUrl;\n    }\n  },\n  mounted: function mounted() {\n    var vm = this;\n    var iframe = document.getElementById('iframe');\n    if (iframe.attachEvent) {\n      iframe.attachEvent(\"onload\", function () {\n        // IE\n        vm.initImg();\n        vm.changeFrameHeight();\n      });\n    } else {\n      iframe.onload = function () {\n        // 非IE\n        vm.initImg();\n        vm.changeFrameHeight();\n      };\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 486:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(487);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(1)(\"e6bab5b8\", content, true, {});\n\n/***/ }),\n\n/***/ 487:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".to-sign[data-v-f0688138]{position:fixed;background-color:#f7f7f7;bottom:0;left:0;right:0;padding:16px}.sign[data-v-f0688138]{position:absolute;left:0;top:40px;bottom:0}.confirm-sign[data-v-f0688138]{box-sizing:border-box;width:48%}.sign-div[data-v-f0688138]{box-sizing:border-box;display:inline-block;float:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 488:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('app-header',{attrs:{\"title\":\"家庭医生服务合同\"}}),_vm._v(\" \"),_c('div',{staticClass:\"page-header-main\"},[_c('iframe',{ref:\"iframe\",staticClass:\"sign\",attrs:{\"src\":_vm.contUrl,\"frameborder\":\"0\",\"width\":\"100%\",\"scrolling\":\"no\",\"id\":\"iframe\"}}),_vm._v(\" \"),_c('div',{staticClass:\"to-sign\"},[_c('div',{staticClass:\"confirm-sign\",style:({display: _vm.confirmDisplay})},[_c('mt-button',{attrs:{\"size\":\"large\",\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.confirm($event)}}},[_vm._v(\"确认签名\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"sign-div\",style:({width: _vm.signDivWidth})},[_c('mt-button',{attrs:{\"size\":\"large\",\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.goSign($event)}}},[_vm._v(_vm._s(_vm.signText))])],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 40.build.js","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f0688138\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Sign.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sign.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sign.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f0688138\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Sign.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f0688138\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sign/Sign.vue\n// module id = 180\n// module chunks = 40","<template>\n  <div class=\"header_box\">\n    <mt-header fixed :title=\"title\">\n      <mt-button slot= \"left\" icon=\"back\" v-if=\"showBack\" @click.native=\"back\"></mt-button>\n      <mt-button slot= \"right\" v-if=\"showMenu\" @click.native=\"menu\">确定</mt-button>\n    </mt-header>\n  </div>\n</template>\n\n<script>\n\n  export default {\n    props: {\n      showBack: {\n        default: true\n      },\n      title: {\n        default: '在线问诊'\n      },\n      showMenu: {\n        default: false\n      }\n    },\n    methods: {\n      back() {\n        this.$router.go(-1);\n      },\n      menu() {\n        this.$emit(\"confirm\")\n      }\n    }\n  }\n</script>\n\n<style>\n.header_box,.mint-header{\n  background: #fff\n}\n.mint-header .mint-button .mintui-back{\n  color:rgba(4,11,28,.8);\n}\n.mint-header-title{\n  font-size: 15px;\n  color: #006DFF;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Header.vue","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e4a17e8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e4a17e8\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Header.vue\n// module id = 241\n// module chunks = 0 3 5 7 11 12 35 36 37 38 39 40 41 42","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e4a17e8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Header.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"67921c4f\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6e4a17e8\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Header.vue\n// module id = 242\n// module chunks = 0 3 5 7 11 12 35 36 37 38 39 40 41 42","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".header_box,.mint-header{background:#fff}.mint-header .mint-button .mintui-back{color:rgba(4,11,28,.8)}.mint-header-title{font-size:15px;color:#006dff}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6e4a17e8\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Header.vue\n// module id = 243\n// module chunks = 0 3 5 7 11 12 35 36 37 38 39 40 41 42","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header_box\"},[_c('mt-header',{attrs:{\"fixed\":\"\",\"title\":_vm.title}},[(_vm.showBack)?_c('mt-button',{attrs:{\"slot\":\"left\",\"icon\":\"back\"},nativeOn:{\"click\":function($event){return _vm.back($event)}},slot:\"left\"}):_vm._e(),_vm._v(\" \"),(_vm.showMenu)?_c('mt-button',{attrs:{\"slot\":\"right\"},nativeOn:{\"click\":function($event){return _vm.menu($event)}},slot:\"right\"},[_vm._v(\"确定\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e4a17e8\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Header.vue\n// module id = 244\n// module chunks = 0 3 5 7 11 12 35 36 37 38 39 40 41 42","<template>\n    <div>\n      <app-header title=\"家庭医生服务合同\"></app-header>\n      <div class=\"page-header-main\">\n        <iframe ref=\"iframe\" :src=\"contUrl\" frameborder=\"0\" width=\"100%\" class=\"sign\" scrolling=\"no\" id=\"iframe\" ></iframe>\n        <div class=\"to-sign\">\n          <div :style=\"{display: confirmDisplay}\" class=\"confirm-sign\">\n            <mt-button size=\"large\" type=\"primary\" @click.native=\"confirm\" style=\"\">确认签名</mt-button>\n          </div>\n          <div :style=\"{width: signDivWidth}\" class=\"sign-div\">\n            <mt-button size=\"large\" type=\"primary\" @click.native=\"goSign\">{{ signText }}</mt-button>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\n  import Header from '../Header'\n  import VueRoute from 'vue-router'\n  import { routes } from '../../routes.js'\n  export default {\n      data() {\n        return {\n          signId: '',\n          contUrl: '',\n          img: ''\n        }\n      },\n      components: {\n        appHeader: Header\n      },\n    computed: {\n      confirmDisplay() {\n        if(this.img) return 'inline-block';\n        return 'none';\n      },\n      signDivWidth() {\n        if(this.img) return '48%';\n        return '100%'\n      },\n      signText() {\n        if(this.img) return '修改签名';\n        return '去签名';\n      }\n    },\n      methods: {\n        // resetRouter () {\n        //   const newRouter = new VueRoute({\n        //     mode: 'history',\n        //     routes\n        //   });\n        //   this.$router.matcher = newRouter.matcher // the relevant part\n        // },\n        goSign() {\n          this.$router.push(\"/signature\");\n        },\n        confirm() {\n          //data:image/png;base64,\n          const imgData = this.img.substring(22, this.img.length);\n          const request = {\n            signId: this.signId,\n            signImg: imgData\n          };\n          this.$indicator.open();\n          this.$store.dispatch(\"signImgCommit\", request).then(data => {\n            this.$router.replace({path: \"success\", query: {price: data.price}});\n          }).catch(err => {\n            this.$toast(err.message);\n          }).finally(() => {\n            this.$indicator.close();\n          })\n        },\n        initImg() {\n          if(sessionStorage.getItem(\"img\")) {\n            this.img = sessionStorage.getItem(\"img\");\n            this.$refs.iframe.contentWindow.postMessage(this.img,'*');\n          }\n        },\n        changeFrameHeight() {\n          this.$refs.iframe.height = document.documentElement.clientHeight * 2;\n        }\n      },\n      created() {\n        const params = sessionStorage.getItem(\"signData\");\n        if(params) {\n          const data = JSON.parse(params);\n          this.signId = data.signId.value;\n          this.contUrl = data.contUrl;\n        }\n      },\n      mounted() {\n        let vm = this;\n        let iframe = document.getElementById('iframe');\n        if (iframe.attachEvent){\n          iframe.attachEvent(\"onload\", function() { // IE\n            vm.initImg();\n            vm.changeFrameHeight();\n          });\n        } else {\n          iframe.onload = function(){ // 非IE\n            vm.initImg();\n            vm.changeFrameHeight();\n          };\n        }\n      }\n    }\n</script>\n\n<style scoped>\n\n  .to-sign {\n    position: fixed;\n    background-color: #f7f7f7;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    padding: 16px;\n  }\n\n  .sign {\n    position: absolute;\n    left: 0;\n    top: 40px;\n    bottom: 0;;\n  }\n\n  .confirm-sign {\n    box-sizing: border-box;\n    width: 48%;\n  }\n\n  .sign-div {\n    box-sizing: border-box;\n    display: inline-block;\n    float: right\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/sign/Sign.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f0688138\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Sign.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"e6bab5b8\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-f0688138\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/sign/Sign.vue\n// module id = 486\n// module chunks = 40","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".to-sign[data-v-f0688138]{position:fixed;background-color:#f7f7f7;bottom:0;left:0;right:0;padding:16px}.sign[data-v-f0688138]{position:absolute;left:0;top:40px;bottom:0}.confirm-sign[data-v-f0688138]{box-sizing:border-box;width:48%}.sign-div[data-v-f0688138]{box-sizing:border-box;display:inline-block;float:right}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-f0688138\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/sign/Sign.vue\n// module id = 487\n// module chunks = 40","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('app-header',{attrs:{\"title\":\"家庭医生服务合同\"}}),_vm._v(\" \"),_c('div',{staticClass:\"page-header-main\"},[_c('iframe',{ref:\"iframe\",staticClass:\"sign\",attrs:{\"src\":_vm.contUrl,\"frameborder\":\"0\",\"width\":\"100%\",\"scrolling\":\"no\",\"id\":\"iframe\"}}),_vm._v(\" \"),_c('div',{staticClass:\"to-sign\"},[_c('div',{staticClass:\"confirm-sign\",style:({display: _vm.confirmDisplay})},[_c('mt-button',{attrs:{\"size\":\"large\",\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.confirm($event)}}},[_vm._v(\"确认签名\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"sign-div\",style:({width: _vm.signDivWidth})},[_c('mt-button',{attrs:{\"size\":\"large\",\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.goSign($event)}}},[_vm._v(_vm._s(_vm.signText))])],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f0688138\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/sign/Sign.vue\n// module id = 488\n// module chunks = 40"],"sourceRoot":""}