webpackJsonp([22],{168:function(t,e,a){"use strict";function i(t){a(329)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(274),r=a(335),o=a(44),n=i,c=o(s.a,r.a,!1,n,"data-v-36f6f661",null);e.default=c.exports},239:function(t,e,a){"use strict";e.a={packPerson:"./static/img/ic_pack_personal.png",packTeam:"./static/img/ic_pack_team.png",packDept:"./static/img/ic_pack_org.png",orgPubImg:"./static/img/ic_org_bg.png",orgImg:"./static/img/ic_org_logo.png",appIconDoctor:"./static/img/app_icon_doctor.png",appIconUser:"./static/img/app_icon.png",topBg:"./static/img/topbg.png",payWx:"./static/img/ic_pay_wechat.png",docMale:"./static/img/ic_doc_male.png",docFeMale:"./static/img/ic_doc_female.png",focusImg:"./static/img/ic_focused.png",unfocusImg:"./static/img/ic_unfocus.png",yuyueImg:"./static/img/ic_yuyue.png",reportImg:"./static/img/ic_report.png",askImg:"./static/img/ic_ask.png",serviceImg:"./static/img/ic_services.png",yuyueGrayImg:"./static/img/ic_yuyue_gray.png",askGrayImg:"./static/img/ic_ask_grey.png",serviceGrayImg:"./static/img/ic_services_grey.png",starImg:"./static/img/ic_rating_all.png",docRectMale:"./static/img/ic_rect_male.png",docRectFeMale:"./static/img/ic_rect_female.png",defaultAva:"./static/img/ic_default_ava.png",appointBg:"./static/img/ic_appoint_bg.png",rulePhoto:"./static/img/ic_rule.png",arrowDown:"./static/img/ic_arrow_down.png",arrowRight:"./static/img/arrow_right.png",arrowR:"./static/img/ic_arrow_right.png",home:"./static/img/home.png",news:"./static/img/news.png",service:"./static/img/service.png",mine:"./static/img/mine.png",doctor:"./static/img/doctor.png",mineBg:"./static/img/mine_bg.png",homeAppoint:"./static/img/home_appoint.png",homeDoctor:"./static/img/home_doctor.png",homeOnline:"./static/img/home_online.png",homeOrder:"./static/img/home_order.png",notice:"./static/img/notice.png",groupUser:"./static/img/ic_group_user.png",groupDoc:"./static/img/ic_group_doc.png",groupDocPatient:"./static/img/ic_group_doc_patient.png",shareImg:"./static/img/share.png",consultationHomeDefault:"./static/img/ic_consulation_home_default.png",consultationHomeSelected:"./static/img/ic_consulation_home_selected.png",consultationMineDefault:"./static/img/ic_consulation_mine_default.png",consultationMineSelected:"./static/img/ic_consulation_mine_selected.png",consultationSmallImg:"./static/img/ic_consultation_small_default.png",consultationBigImg:"./static/img/ic_consultation_big_default.png",consultationWant:"./static/img/ic_want.png",consultationWanted:"./static/img/ic_wanted.png",consultationPaySuccess:"./static/img/ic_sign_success.png",choose:"./static/img/choose.png",chosen:"./static/img/choosen.png",arrowWhiteRight:"./static/img/ic_arrow_right_white.png",consultationMineBg:"./static/img/ic_mine_bg.png",consultationEmpty:"./static/img/ic_empty.png",house_n:"./static/img/house_n.png",house_s:"./static/img/house_s.png",shopping_n:"./static/img/shopping_n.png",shopping_s:"./static/img/shopping_s.png",group_n:"./static/img/group_n.png",group_s:"./static/img/group_s.png",msg_n:"./static/img/msg_n.png",msg_s:"./static/img/msg_s.png",my_n:"./static/img/my_n.png",my_s:"./static/img/my_s.png",focusLookImg:"./static/img/look@2.png",unfocusLookImg:"./static/img/no_look@2.png",assistantHeadImg:"./static/img/assistant_head_img.png",msgTip:"./static/img/msg_tip.png",msgDot:"./static/img/msg_dot.png",systemMsg:"./static/img/system_msg.png",noticeMsg:"./static/img/notice_msg.png",familyDoc:"./static/img/family_doc.png"}},274:function(t,e,a){"use strict";var i=a(12),s=a(331),r=a(11),o=a(239),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.a={data:function(){return{orderList:[],orgId:this.$route.query.orgId,loading:!1,page:1,loaded:!1}},components:{orderItem:s.a},computed:n({},Object(i.c)(["loginData"]),{consultationEmpty:function(){return o.a.consultationEmpty}}),methods:{toDetail:function(t){var e=JSON.stringify(t);sessionStorage.setItem("orderDetail",e),this.$router.push("/orderDetail")},loadMore:function(){this.loaded||this.requestOrderList()},requestOrderList:function(){var t=this;this.loading=!0;var e=this.loginData.userObj.userId.value,a={customerId:e,goodsType:r.o,status:0,pageNum:this.page,pageSize:10,orgId:this.orgId},i=this;this.$store.dispatch("orderList",a).then(function(t){if(i.page++,t){for(var e=0;e<t.length;e++)i.orderList.push(t[e]);i.loaded=10!=t.length}else i.loaded=!0;i.loading=!1}).catch(function(e){i.loading=!1,i.loaded=!0,t.$toast(e.message)})},cancelOrder:function(t){var e=this,a=this;this.$indicator.open(),this.$store.dispatch("orderStepOp",t).then(function(){e.$toast("取消成功"),a.updateOrderItem(t)}).catch(function(t){e.$toast(t.message)}).finally(function(){e.$indicator.close()})},updateOrderItem:function(t){for(var e=0;e<this.orderList.length;e++){var a=this.orderList[e];if(a.servId.value==t.servId){a.isEnd.value="1",a.cancelStatus.value="1";break}}}},created:function(){this.requestOrderList()}}},275:function(t,e,a){"use strict";var i=a(12),s=a(239),r=a(11),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.a={data:function(){return{helperId:""}},props:["orderItem"],computed:o({},Object(i.c)(["loginData"]),{showMenu:function(){return"0"==this.orderItem.cancelStatus.value&&("1"!=this.orderItem.isEnd.value&&(this.orderItem.status.value==r.t||this.orderItem.status.value==r.s))},showPay:function(){return this.showMenu&&this.orderItem.status.value==r.t},showCancel:function(){return this.showMenu&&this.orderItem.status.value==r.s},status:function(){return"5"!=this.orderItem.status.value},docImg:function(){var t=s.a.docMale,e=this.orderItem.goodsSnapObj;if(e){var a=e.acceptUserObj;if(a)if(a.photoUrl)t=a.photoUrl;else{var i=a.gender.value;"0"==i&&(t=s.a.docFeMale)}}return t},acceptName:function(){var t=this.orderItem.goodsSnapObj;if(t){var e=t.acceptUserObj;if(e)return e.userName}return""},acceptOrgName:function(){var t=this.orderItem.goodsSnapObj;if(t){var e=t.acceptUserObj;if(e)return e.orgNames}return""},getPrice:function(){var t=this.orderItem.statusType.value;if("4"==t||"5"==t){var e=this.orderItem.goodsSnapObj;if(e)return e.price}else{var a=this.orderItem.payMoney;if(a)return a}return""},statusName:function(){var t=this.orderItem.statusType.value;return"0"==t?"等待受理":"1"==t?"已受理":"2"==t?"问诊中":"3"==t?"已完成":"4"==t?"已取消":"5"==t?"待支付":void 0},deptName:function(){var t=this.orderItem.goodsSnapObj;if(t){var e=t.acceptUserObj;if(e)return e.departmentName}return""},titlesName:function(){var t=this.orderItem.goodsSnapObj;if(t){var e=t.acceptUserObj;if(e)return e.titlesName}return""},docName:function(){var t=this.orderItem.goodsSnapObj;if(t){var e=t.acceptUserObj;if(e)return e.userName}return""}}),methods:{goEvaluation:function(){this.$router.push({path:"evaluationOrder",query:{servId:this.orderItem.servId.value,orgId:this.orderItem.orgId.value,docId:this.orderItem.goodsSnapObj.acceptUserObj.userId.value}})},toChatHelper:function(){this.$router.push({path:"chat",query:{docId:this.orderItem.goodsSnapObj.acceptUserObj.userId.value,drName:this.orderItem.acceptUserObj.userName,friendHeadUrl:this.orderItem.acceptUserObj.photoUrl,gender:this.orderItem.acceptUserObj.gender.value,helperId:this.helperId}})},getImhelper:function(){var t=this,e={docId:this.orderItem.goodsSnapObj.acceptUserObj.userId.value};this.$store.dispatch("imhelper",e).then(function(e){t.helperId=e.helperId.value,t.helperId?t.toChatHelper():t.$toast("网络繁忙，稍后重试")}).catch(function(e){t.$toast(e.message)})},cancelOrder:function(){var t=this.loginData.userObj.userId.value,e={desp:"不想买了",opType:3,servId:this.orderItem.servId.value,status:1,stepType:2006101100,userId:t};this.$emit("cancelOrder",e)},goPay:function(){this.$router.push({path:"chatSubmitPay",query:{servId:this.orderItem.servId.value,drId:this.orderItem.goodsSnapObj.acceptUserObj.userId.value,snapId:this.orderItem.goodsSnapObj.snapId.value,price:this.orderItem.goodsSnapObj.price,orgId:this.orderItem.orgId.value,type:"图文咨询",docName:this.orderItem.goodsSnapObj.acceptUserObj.userName}})}}}},329:function(t,e,a){var i=a(330);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("68fa35a1",i,!0,{})},330:function(t,e,a){e=t.exports=a(0)(!1),e.push([t.i,"li[data-v-36f6f661],ul[data-v-36f6f661]{padding:0;list-style:none;margin:0}.empty[data-v-36f6f661]{padding:50px 40px;text-align:center}",""])},331:function(t,e,a){"use strict";function i(t){a(332)}var s=a(275),r=a(334),o=a(44),n=i,c=o(s.a,r.a,!1,n,"data-v-0a9568c8",null);e.a=c.exports},332:function(t,e,a){var i=a(333);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("975faf0a",i,!0,{})},333:function(t,e,a){e=t.exports=a(0)(!1),e.push([t.i,".main[data-v-0a9568c8]{background:#fff;padding:0 16px;margin-top:10px}.title[data-v-0a9568c8]{padding:10px 0}.order_num[data-v-0a9568c8]{color:rgba(4,11,28,.4);font-size:13px}.price[data-v-0a9568c8]{color:#ff0a0a;font-size:13px;font-weight:500}.box[data-v-0a9568c8]{display:flex;align-items:center;padding:11px 0;border-bottom:1px solid hsla(0,0%,93%,.6)}.box img[data-v-0a9568c8]{width:56px;height:56px}.text[data-v-0a9568c8]{margin-left:10px}.text p[data-v-0a9568c8]{font-size:17px;color:#040b1c;font-weight:600}.text .title_name[data-v-0a9568c8]{font-size:13px;color:rgba(4,11,28,.5);font-weight:400}.text .title_name span[data-v-0a9568c8]{margin-left:5px}.state[data-v-0a9568c8]{font-size:13px;color:rgba(4,11,28,.5);font-weight:500}.state.state1[data-v-0a9568c8]{color:#0076ff}.state.state2[data-v-0a9568c8]{color:red}.btn_box[data-v-0a9568c8]{background:#fff;display:flex;justify-content:flex-end;margin-right:-16px}.btn_box a[data-v-0a9568c8]{display:block;margin-right:16px;width:72px;height:26px;line-height:26px;text-align:center;border-radius:2px;font-size:13px}.btn_border[data-v-0a9568c8]{border:1px solid #0093ff;color:#0093ff;background:#fff}.btn_background[data-v-0a9568c8]{background:#0093ff;color:#fff;border:1px solid transparent}",""])},334:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.orderItem?a("div",[a("div",{staticClass:"main"},[a("div",{staticClass:"flex-b title"},[a("div",{staticClass:"order_num"},[t._v(t._s(t.orderItem.createTime))]),t._v(" "),t.getPrice&&""!=t.getPrice?a("div",{staticClass:"order_num"},[t._v("\n              订单金额：\n              "),a("span",{staticClass:"price"},[t._v(t._s(t.getPrice))])]):t._e()]),t._v(" "),a("div",{staticClass:"box"},[a("img",{attrs:{src:t.docImg,alt:""}}),t._v(" "),a("div",{staticClass:"text"},[a("p",{staticStyle:{"margin-bottom":"5px"}},[t._v(t._s(t.acceptName))]),t._v(" "),a("p",{staticClass:"title_name"},[t._v(t._s(t.deptName)),a("span",[t._v(t._s(t.titlesName))])])])]),t._v(" "),a("div",{staticClass:"flex-b",staticStyle:{padding:"10px 0"}},["已取消"==t.statusName||"已完成"==t.statusName?a("div",{staticClass:"state"},[t._v(t._s(t.statusName))]):t._e(),t._v(" "),"等待受理"==t.statusName||"已受理"==t.statusName||"问诊中"==t.statusName?a("div",{staticClass:"state state1"},[t._v(t._s(t.statusName))]):t._e(),t._v(" "),"待支付"==t.statusName?a("div",{staticClass:"state state2"},[t._v(t._s(t.statusName))]):t._e(),t._v(" "),a("div",{staticClass:"btn_box"},["待支付"==t.statusName?a("a",{staticClass:"btn_border",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.cancelOrder(e)}}},[t._v("取消订单")]):t._e(),t._v(" "),"待支付"==t.statusName?a("a",{staticClass:"btn_background",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.goPay(e)}}},[t._v("去支付")]):t._e(),t._v(" "),"已完成"==t.statusName&&t.status?a("a",{staticClass:"btn_border",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.goEvaluation(e)}}},[t._v("发布评价")]):t._e(),t._v(" "),"已受理"==t.statusName||"问诊中"==t.statusName?a("a",{staticClass:"btn_background",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.getImhelper(e)}}},[t._v("私信")]):t._e()])])])]):t._e()])},s=[],r={render:i,staticRenderFns:s};e.a=r},335:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.orderList.length>0?a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"50","infinite-scroll-immediate-check":"false"}},t._l(t.orderList,function(e){return a("order-item",{key:e.servId.value,attrs:{orderItem:e},on:{cancelOrder:t.cancelOrder},nativeOn:{click:function(a){t.toDetail(e)}}})})):t._e(),t._v(" "),0==t.orderList.length?a("div",{staticClass:"empty"},[a("img",{attrs:{src:t.consultationEmpty,width:"144px",height:"136px"}}),t._v(" "),a("div",{staticStyle:{"font-size":"15px","margin-top":"10px",color:"#b3b3b3"}},[t._v("暂无问诊订单")])]):t._e()])},s=[],r={render:i,staticRenderFns:s};e.a=r}});
//# sourceMappingURL=22.build.js.map