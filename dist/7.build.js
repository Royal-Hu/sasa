webpackJsonp([7],{178:function(t,e,s){"use strict";function a(t){s(472)}Object.defineProperty(e,"__esModule",{value:!0});var i=s(377),n=s(482),c=s(44),r=a,o=c(i.a,n.a,!1,r,"data-v-e894631c",null);e.default=o.exports},240:function(t,e,s){"use strict";e.a={props:{showBack:{default:!0},title:{default:"在线问诊"},showMenu:{default:!1}},methods:{back:function(){this.$router.go(-1)},menu:function(){this.$emit("confirm")}}}},241:function(t,e,s){"use strict";function a(t){s(242)}var i=s(240),n=s(244),c=s(44),r=a,o=c(i.a,n.a,!1,r,null,null);e.a=o.exports},242:function(t,e,s){var a=s(243);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(1)("67921c4f",a,!0,{})},243:function(t,e,s){e=t.exports=s(0)(!1),e.push([t.i,".header_box,.mint-header{background:#fff}.mint-header .mint-button .mintui-back{color:rgba(4,11,28,.8)}.mint-header-title{font-size:15px;color:#006dff}",""])},244:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header_box"},[s("mt-header",{attrs:{fixed:"",title:t.title}},[t.showBack?s("mt-button",{attrs:{slot:"left",icon:"back"},nativeOn:{click:function(e){return t.back(e)}},slot:"left"}):t._e(),t._v(" "),t.showMenu?s("mt-button",{attrs:{slot:"right"},nativeOn:{click:function(e){return t.menu(e)}},slot:"right"},[t._v("确定")]):t._e()],1)],1)},i=[],n={render:a,staticRenderFns:i};e.a=n},377:function(t,e,s){"use strict";var a=s(474),i=s(478),n=s(241),c=s(11);e.a={data:function(){return{request:{},selected:"",selectedPerson:[],selectedPacks:[],personList:[]}},components:{appPerson:a.a,appPersonList:i.a,appHeader:n.a},created:function(){var t=this,e=this;this.$store.dispatch("personList",{}).then(function(t){e.personList=t}).catch(function(e){t.$toast(e.message)}),this.initParams()},activated:function(){this.initParams()},methods:{updateCheck:function(t,e){if(e.target.checked)this.selectedPerson.push(t);else for(var s=0;s<this.selectedPerson.length;s++){var a=this.selectedPerson[s];if(a.ptId.value==t.ptId.value){this.selected==t.ptId.value&&(this.selected=""),this.selectedPerson.splice(s,1),this.removePacks(t.ptId.value);break}}},updatePackCheck:function(t,e){if(e.ptName=t.ptName,e.ptId=t.ptId.value,e.checked)this.selectedPacks.push(e);else for(var s=0;s<this.selectedPacks.length;s++){var a=this.selectedPacks[s];if(a.packId.value==e.packId.value){this.selectedPacks.splice(s,1);break}}},removePacks:function(t){for(var e=0;e<this.selectedPacks.length;e++){t==this.selectedPacks[e].ptId&&(this.selectedPacks.splice(e,1),e--)}},initParams:function(){var t=sessionStorage.getItem("params");t&&(this.request=JSON.parse(t),"男"==this.request.sex?this.request.sexType=c.k:this.request.sexType=c.g),console.log(t)},getSelectIds:function(){for(var t=[],e=0;e<this.selectedPacks.length;e++){var s=this.selectedPacks[e];t[e]=s.packId.value}return t},commit:function(){var t=this;if(0==this.selectedPacks.length)return void this.$toast("请选择服务包");this.request.packIds=this.getSelectIds(),this.$indicator.open(),this.$store.dispatch("signAdd",this.request).then(function(e){var s=JSON.stringify(e);sessionStorage.setItem("signData",s),sessionStorage.removeItem("img"),t.$router.replace("sign")}).catch(function(e){t.$toast(e.message)}).finally(function(){t.$indicator.close()})}},filters:{filter:function(t){if(t.length>0){for(var e=[],s=0;s<t.length;s++){var a=t[s];e[s]=a.ptName+a.packName}return e.join(",")}return""}}}},378:function(t,e,s){"use strict";e.a={props:["person","age","sex"],computed:{disabled:function(){var t=this.person.agesValue,e=this.person.genders;if(!t)return!0;if(!e)return!0;for(var s=e.split(","),a=!1,i=!1,n=0;n<s.length;n++){if(s[n]==this.sex){a=!0;break}}for(var c=t.split(","),r=0;r<c.length;r++){var o=c[r],l=o.indexOf("<="),d=o.lastIndexOf("<"),u=o.substring(0,l),p=o.substring(d+1,o.length);if(this.age>=u&&this.age<p){i=!0;break}}return!(a&&i)}},methods:{change:function(t){this.$emit("checkedChange",t)}}}},379:function(t,e,s){"use strict";e.a={props:["ptId","orgId","ptName"],data:function(){return{packList:[],userApp:this.$store.state.userApp}},methods:{controlData:function(t){if(t.length>0)for(var e=0;e<t.length;e++){var s=t[e],a=Number.parseFloat(s.price);a>0&&(t.splice(e,1),e--)}return t},packChecked:function(t,e){t.checked=e.target.checked,this.$emit("packChecked",t)},toDetail:function(t){var e=JSON.stringify(t);sessionStorage.setItem("packdetail",e),this.$router.push({path:"packdetail",query:{ptName:this.ptName}})}},created:function(){var t=this,e={orgId:this.orgId,ptId:this.ptId},s=this;this.$store.dispatch("packList",e).then(function(t){s.userApp||(s.packList=s.controlData(t))}).catch(function(e){t.$toast(e.message)})}}},472:function(t,e,s){var a=s(473);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(1)("2a8ef7d2",a,!0,{})},473:function(t,e,s){e=t.exports=s(0)(!1),e.push([t.i,".bottom[data-v-e894631c]{position:fixed;bottom:0;width:100%;height:50px;line-height:50px;background:#fff;font-size:13px}.commit[data-v-e894631c]{background-color:#0093ff;padding:0;margin:0;border:0;color:#fff;width:50px;height:50px;position:fixed;right:0;bottom:0}.chose-text[data-v-e894631c]{padding-left:16px;display:inline-block;padding-right:60px;width:auto;height:50px;line-height:50px}",""])},474:function(t,e,s){"use strict";function a(t){s(475)}var i=s(378),n=s(477),c=s(44),r=a,o=c(i.a,n.a,!1,r,"data-v-cf2b6a7a",null);e.a=o.exports},475:function(t,e,s){var a=s(476);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(1)("a1ab087c",a,!0,{})},476:function(t,e,s){e=t.exports=s(0)(!1),e.push([t.i,".disable[data-v-cf2b6a7a]{color:gray}",""])},477:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"mint-checklist-label",staticStyle:{width:"50%",padding:"10px",margin:"0",display:"inline-block","box-sizing":"border-box"}},[s("span",{staticClass:"mint-radio"},[s("input",{staticClass:"mint-radio-input",attrs:{type:"checkbox",disabled:t.disabled},domProps:{value:t.person.ptId.value},on:{change:function(e){t.change(e)}}}),t._v(" "),s("span",{staticClass:"mint-radio-core"})]),t._v(" "),s("span",{staticClass:"mint-radio-label",class:{disable:t.disabled},domProps:{textContent:t._s(t.person.ptName)}})])},i=[],n={render:a,staticRenderFns:i};e.a=n},478:function(t,e,s){"use strict";function a(t){s(479)}var i=s(379),n=s(481),c=s(44),r=a,o=c(i.a,n.a,!1,r,"data-v-73dcb417",null);e.a=o.exports},479:function(t,e,s){var a=s(480);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(1)("bd334566",a,!0,{})},480:function(t,e,s){e=t.exports=s(0)(!1),e.push([t.i,"",""])},481:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.packList,function(e){return s("a",{key:e.packId.value,staticClass:"mint-cell"},[s("span",{staticClass:"mint-cell-mask",on:{click:function(s){s.stopPropagation(),t.toDetail(e)}}}),t._v(" "),s("label",{staticClass:"mint-cell-wrapper"},[s("span",{staticClass:"mint-radio"},[s("input",{staticClass:"mint-radio-input",attrs:{type:"checkbox"},domProps:{value:e.packId.value},on:{change:function(s){t.packChecked(e,s)}}}),t._v(" "),s("span",{staticClass:"mint-radio-core"})]),t._v(" "),s("span",{staticClass:"mint-radio-label",domProps:{textContent:t._s(e.packName)}}),t._v(" "),s("span",{staticStyle:{color:"#0093ff",position:"absolute",right:"30px"}},[t._v("￥"+t._s(e.price))]),t._v(" "),s("i",{staticClass:"mint-cell-allow-right"})])])}))},i=[],n={render:a,staticRenderFns:i};e.a=n},482:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("app-header"),t._v(" "),s("div",{staticClass:"page-header-main"},[s("div",{staticStyle:{"background-color":"white"}},t._l(t.personList,function(e){return s("app-person",{key:e.ptId.value,attrs:{person:e,age:t.request.age,sex:t.request.sexType},on:{checkedChange:function(s){t.updateCheck(e,s)}}})})),t._v(" "),s("br"),t._v(" "),s("mt-navbar",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.selectedPerson,function(e){return s("mt-tab-item",{key:e.ptId.value,attrs:{id:e.ptId.value}},[t._v(t._s(e.ptName))])})),t._v(" "),s("mt-tab-container",{staticStyle:{"background-color":"white","margin-bottom":"50px"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.selectedPerson,function(e){return s("mt-tab-container-item",{key:e.ptId.value,attrs:{id:e.ptId.value}},[s("app-person-list",{attrs:{orgId:t.request.orgId,ptId:e.ptId.value,ptName:e.ptName},on:{packChecked:function(s){t.updatePackCheck(e,s)}}})],1)})),t._v(" "),s("div",{staticClass:"bottom"},[s("div",{staticClass:"chose-text"},[t._v("\n        已选择:\n        "),s("span",{staticStyle:{color:"#0093ff"}},[t._v(t._s(t._f("filter")(t.selectedPacks)))])]),t._v(" "),s("button",{staticClass:"commit",on:{click:t.commit}},[t._v("提交")])])],1)],1)},i=[],n={render:a,staticRenderFns:i};e.a=n}});
//# sourceMappingURL=7.build.js.map